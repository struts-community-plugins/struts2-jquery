/* 
 * jqGrid  4.5.4 - jQuery Grid
 * Copyright (c) 2008, Tony Tomov, tony@trirand.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date:2013-10-06
 * Modules: grid.base.js; jquery.fmatter.js; grid.custom.js; grid.common.js; grid.jqueryui.js;
 */
(function (b) {
    b.jgrid = b.jgrid || {};
    b.extend(b.jgrid, {version: "4.5.3", htmlDecode: function (b) {
        return b && ("&nbsp;" === b || "&#160;" === b || 1 === b.length && 160 === b.charCodeAt(0)) ? "" : !b ? b : ("" + b).replace(/&gt;/g, ">").replace(/&lt;/g, "<").replace(/&quot;/g, '"').replace(/&amp;/g, "&")
    }, htmlEncode: function (b) {
        return!b ? b : ("" + b).replace(/&/g, "&amp;").replace(/\"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }, format: function (d) {
        var g = b.makeArray(arguments).slice(1);
        null == d && (d = "");
        return d.replace(/\{(\d+)\}/g,
            function (b, e) {
                return g[e]
            })
    }, msie: "Microsoft Internet Explorer" === navigator.appName, msiever: function () {
        var b = -1;
        null != /MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent) && (b = parseFloat(RegExp.$1));
        return b
    }, getCellIndex: function (d) {
        d = b(d);
        if (d.is("tr"))return-1;
        d = (!d.is("td") && !d.is("th") ? d.closest("td,th") : d)[0];
        return b.jgrid.msie ? b.inArray(d, d.parentNode.cells) : d.cellIndex
    }, stripHtml: function (b) {
        var b = "" + b, g = /<("[^"]*"|'[^']*'|[^'">])*>/gi;
        return b ? (b = b.replace(g, "")) && "&nbsp;" !== b && "&#160;" !==
            b ? b.replace(/\"/g, "'") : "" : b
    }, stripPref: function (d, g) {
        var c = b.type(d);
        if ("string" === c || "number" === c)d = "" + d, g = "" !== d ? ("" + g).replace("" + d, "") : g;
        return g
    }, parse: function (d) {
        "while(1);" === d.substr(0, 9) && (d = d.substr(9));
        "/*" === d.substr(0, 2) && (d = d.substr(2, d.length - 4));
        d || (d = "{}");
        return!0 === b.jgrid.useJSON && "object" === typeof JSON && "function" === typeof JSON.parse ? JSON.parse(d) : eval("(" + d + ")")
    }, parseDate: function (d, g, c, e) {
        var a = /^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/, i = "string" === typeof g ?
            g.match(a) : null, a = function (a, b) {
            a = "" + a;
            for (b = parseInt(b, 10) || 2; a.length < b;)a = "0" + a;
            return a
        }, f = {m: 1, d: 1, y: 1970, h: 0, i: 0, s: 0, u: 0}, h = 0, j, k, h = function (a, b) {
            0 === a ? 12 === b && (b = 0) : 12 !== b && (b += 12);
            return b
        };
        void 0 === e && (e = b.jgrid.formatter.date);
        void 0 === e.parseRe && (e.parseRe = /[Tt\\\/:_;.,\t\s-]/);
        e.masks.hasOwnProperty(d) && (d = e.masks[d]);
        if (g && null != g)if (!isNaN(g - 0) && "u" === ("" + d).toLowerCase())h = new Date(1E3 * parseFloat(g)); else if (g.constructor === Date)h = g; else if (null !== i)h = new Date(parseInt(i[1], 10)), i[3] &&
            (d = 60 * Number(i[5]) + Number(i[6]), d *= "-" === i[4] ? 1 : -1, d -= h.getTimezoneOffset(), h.setTime(Number(Number(h) + 6E4 * d))); else {
            g = ("" + g).replace(/\\T/g, "T").replace(/\\t/, "t").split(e.parseRe);
            d = d.replace(/\\T/g, "T").replace(/\\t/, "t").split(e.parseRe);
            j = 0;
            for (k = d.length; j < k; j++)"M" === d[j] && (i = b.inArray(g[j], e.monthNames), -1 !== i && 12 > i && (g[j] = i + 1, f.m = g[j])), "F" === d[j] && (i = b.inArray(g[j], e.monthNames, 12), -1 !== i && 11 < i && (g[j] = i + 1 - 12, f.m = g[j])), "a" === d[j] && (i = b.inArray(g[j], e.AmPm), -1 !== i && 2 > i && g[j] === e.AmPm[i] &&
                (g[j] = i, f.h = h(g[j], f.h))), "A" === d[j] && (i = b.inArray(g[j], e.AmPm), -1 !== i && 1 < i && g[j] === e.AmPm[i] && (g[j] = i - 2, f.h = h(g[j], f.h))), "g" === d[j] && (f.h = parseInt(g[j], 10)), void 0 !== g[j] && (f[d[j].toLowerCase()] = parseInt(g[j], 10));
            f.f && (f.m = f.f);
            if (0 === f.m && 0 === f.y && 0 === f.d)return"&#160;";
            f.m = parseInt(f.m, 10) - 1;
            h = f.y;
            70 <= h && 99 >= h ? f.y = 1900 + f.y : 0 <= h && 69 >= h && (f.y = 2E3 + f.y);
            h = new Date(f.y, f.m, f.d, f.h, f.i, f.s, f.u)
        } else h = new Date(f.y, f.m, f.d, f.h, f.i, f.s, f.u);
        if (void 0 === c)return h;
        e.masks.hasOwnProperty(c) ? c = e.masks[c] :
            c || (c = "Y-m-d");
        d = h.getHours();
        g = h.getMinutes();
        f = h.getDate();
        i = h.getMonth() + 1;
        j = h.getTimezoneOffset();
        k = h.getSeconds();
        var m = h.getMilliseconds(), n = h.getDay(), l = h.getFullYear(), r = (n + 6) % 7 + 1, u = (new Date(l, i - 1, f) - new Date(l, 0, 1)) / 864E5, E = {d: a(f), D: e.dayNames[n], j: f, l: e.dayNames[n + 7], N: r, S: e.S(f), w: n, z: u, W: 5 > r ? Math.floor((u + r - 1) / 7) + 1 : Math.floor((u + r - 1) / 7) || (4 > ((new Date(l - 1, 0, 1)).getDay() + 6) % 7 ? 53 : 52), F: e.monthNames[i - 1 + 12], m: a(i), M: e.monthNames[i - 1], n: i, t: "?", L: "?", o: "?", Y: l, y: ("" + l).substring(2), a: 12 >
            d ? e.AmPm[0] : e.AmPm[1], A: 12 > d ? e.AmPm[2] : e.AmPm[3], B: "?", g: d % 12 || 12, G: d, h: a(d % 12 || 12), H: a(d), i: a(g), s: a(k), u: m, e: "?", I: "?", O: (0 < j ? "-" : "+") + a(100 * Math.floor(Math.abs(j) / 60) + Math.abs(j) % 60, 4), P: "?", T: (("" + h).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g) || [""]).pop().replace(/[^-+\dA-Z]/g, ""), Z: "?", c: "?", r: "?", U: Math.floor(h / 1E3)};
        return c.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g, function (a) {
            return E.hasOwnProperty(a) ?
                E[a] : a.substring(1)
        })
    }, jqID: function (b) {
        return("" + b).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g, "\\$&")
    }, guid: 1, uidPref: "jqg", randId: function (d) {
        return(d || b.jgrid.uidPref) + b.jgrid.guid++
    }, getAccessor: function (b, g) {
        var c, e, a = [], i;
        if ("function" === typeof g)return g(b);
        c = b[g];
        if (void 0 === c)try {
            if ("string" === typeof g && (a = g.split(".")), i = a.length)for (c = b; c && i--;)e = a.shift(), c = c[e]
        } catch (f) {
        }
        return c
    }, getXmlData: function (d, g, c) {
        var e = "string" === typeof g ? g.match(/^(.*)\[(\w+)\]$/) : null;
        if ("function" === typeof g)return g(d);
        if (e && e[2])return e[1] ? b(e[1], d).attr(e[2]) : b(d).attr(e[2]);
        d = b(g, d);
        return c ? d : 0 < d.length ? b(d).text() : void 0
    }, cellWidth: function () {
        var d = b("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"), g = d.appendTo("body").find("td").width();
        d.remove();
        return 0.1 < Math.abs(g - 5)
    }, cell_width: !0, ajaxOptions: {}, from: function (d) {
        return new function (d, c) {
            "string" === typeof d &&
            (d = b.data(d));
            var e = this, a = d, i = !0, f = !1, h = c, j = /[\$,%]/g, k = null, m = null, n = 0, l = !1, r = "", u = [], E = !0;
            if ("object" === typeof d && d.push)0 < d.length && (E = "object" !== typeof d[0] ? !1 : !0); else throw"data provides is not an array";
            this._hasData = function () {
                return null === a ? !1 : 0 === a.length ? !1 : !0
            };
            this._getStr = function (a) {
                var b = [];
                f && b.push("jQuery.trim(");
                b.push("String(" + a + ")");
                f && b.push(")");
                i || b.push(".toLowerCase()");
                return b.join("")
            };
            this._strComp = function (a) {
                return"string" === typeof a ? ".toString()" : ""
            };
            this._group =
                function (a, b) {
                    return{field: a.toString(), unique: b, items: []}
                };
            this._toStr = function (a) {
                f && (a = b.trim(a));
                a = a.toString().replace(/\\/g, "\\\\").replace(/\"/g, '\\"');
                return i ? a : a.toLowerCase()
            };
            this._funcLoop = function (e) {
                var d = [];
                b.each(a, function (a, b) {
                    d.push(e(b))
                });
                return d
            };
            this._append = function (a) {
                var b;
                h = null === h ? "" : h + ("" === r ? " && " : r);
                for (b = 0; b < n; b++)h += "(";
                l && (h += "!");
                h += "(" + a + ")";
                l = !1;
                r = "";
                n = 0
            };
            this._setCommand = function (a, b) {
                k = a;
                m = b
            };
            this._resetNegate = function () {
                l = !1
            };
            this._repeatCommand = function (a, b) {
                return null === k ? e : null !== a && null !== b ? k(a, b) : null === m || !E ? k(a) : k(m, a)
            };
            this._equals = function (a, b) {
                return 0 === e._compare(a, b, 1)
            };
            this._compare = function (a, b, e) {
                var d = Object.prototype.toString;
                void 0 === e && (e = 1);
                void 0 === a && (a = null);
                void 0 === b && (b = null);
                if (null === a && null === b)return 0;
                if (null === a && null !== b)return 1;
                if (null !== a && null === b)return-1;
                if ("[object Date]" === d.call(a) && "[object Date]" === d.call(b))return a < b ? -e : a > b ? e : 0;
                !i && "number" !== typeof a && "number" !== typeof b && (a = "" + a, b = "" + b);
                return a < b ? -e :
                    a > b ? e : 0
            };
            this._performSort = function () {
                0 !== u.length && (a = e._doSort(a, 0))
            };
            this._doSort = function (a, b) {
                var d = u[b].by, i = u[b].dir, f = u[b].type, c = u[b].datefmt;
                if (b === u.length - 1)return e._getOrder(a, d, i, f, c);
                b++;
                for (var d = e._getGroup(a, d, i, f, c), i = [], g, f = 0; f < d.length; f++) {
                    g = e._doSort(d[f].items, b);
                    for (c = 0; c < g.length; c++)i.push(g[c])
                }
                return i
            };
            this._getOrder = function (a, d, f, c, g) {
                var h = [], k = [], m = "a" === f ? 1 : -1, n, l;
                void 0 === c && (c = "text");
                l = "float" === c || "number" === c || "currency" === c || "numeric" === c ? function (a) {
                    a = parseFloat(("" +
                        a).replace(j, ""));
                    return isNaN(a) ? 0 : a
                } : "int" === c || "integer" === c ? function (a) {
                    return a ? parseFloat(("" + a).replace(j, "")) : 0
                } : "date" === c || "datetime" === c ? function (a) {
                    return b.jgrid.parseDate(g, a).getTime()
                } : b.isFunction(c) ? c : function (a) {
                    a = a ? b.trim("" + a) : "";
                    return i ? a : a.toLowerCase()
                };
                b.each(a, function (a, e) {
                    n = "" !== d ? b.jgrid.getAccessor(e, d) : e;
                    void 0 === n && (n = "");
                    n = l(n, e);
                    k.push({vSort: n, index: a})
                });
                k.sort(function (a, b) {
                    a = a.vSort;
                    b = b.vSort;
                    return e._compare(a, b, m)
                });
                for (var c = 0, u = a.length; c < u;)f = k[c].index,
                    h.push(a[f]), c++;
                return h
            };
            this._getGroup = function (a, d, c, i, f) {
                var g = [], h = null, j = null, k;
                b.each(e._getOrder(a, d, c, i, f), function (a, c) {
                    k = b.jgrid.getAccessor(c, d);
                    null == k && (k = "");
                    e._equals(j, k) || (j = k, null !== h && g.push(h), h = e._group(d, k));
                    h.items.push(c)
                });
                null !== h && g.push(h);
                return g
            };
            this.ignoreCase = function () {
                i = !1;
                return e
            };
            this.useCase = function () {
                i = !0;
                return e
            };
            this.trim = function () {
                f = !0;
                return e
            };
            this.noTrim = function () {
                f = !1;
                return e
            };
            this.execute = function () {
                var d = h, c = [];
                if (null === d)return e;
                b.each(a,
                    function () {
                        eval(d) && c.push(this)
                    });
                a = c;
                return e
            };
            this.data = function () {
                return a
            };
            this.select = function (d) {
                e._performSort();
                if (!e._hasData())return[];
                e.execute();
                if (b.isFunction(d)) {
                    var c = [];
                    b.each(a, function (a, b) {
                        c.push(d(b))
                    });
                    return c
                }
                return a
            };
            this.hasMatch = function () {
                if (!e._hasData())return!1;
                e.execute();
                return 0 < a.length
            };
            this.andNot = function (a, b, d) {
                l = !l;
                return e.and(a, b, d)
            };
            this.orNot = function (a, b, d) {
                l = !l;
                return e.or(a, b, d)
            };
            this.not = function (a, b, d) {
                return e.andNot(a, b, d)
            };
            this.and = function (a, b, d) {
                r = " && ";
                return void 0 === a ? e : e._repeatCommand(a, b, d)
            };
            this.or = function (a, b, d) {
                r = " || ";
                return void 0 === a ? e : e._repeatCommand(a, b, d)
            };
            this.orBegin = function () {
                n++;
                return e
            };
            this.orEnd = function () {
                null !== h && (h += ")");
                return e
            };
            this.isNot = function (a) {
                l = !l;
                return e.is(a)
            };
            this.is = function (a) {
                e._append("this." + a);
                e._resetNegate();
                return e
            };
            this._compareValues = function (a, d, c, i, f) {
                var g;
                g = E ? "jQuery.jgrid.getAccessor(this,'" + d + "')" : "this";
                void 0 === c && (c = null);
                var h = c, k = void 0 === f.stype ? "text" : f.stype;
                if (null !==
                    c)switch (k) {
                    case "int":
                    case "integer":
                        h = isNaN(Number(h)) || "" === h ? "0" : h;
                        g = "parseInt(" + g + ",10)";
                        h = "parseInt(" + h + ",10)";
                        break;
                    case "float":
                    case "number":
                    case "numeric":
                        h = ("" + h).replace(j, "");
                        h = isNaN(Number(h)) || "" === h ? "0" : h;
                        g = "parseFloat(" + g + ")";
                        h = "parseFloat(" + h + ")";
                        break;
                    case "date":
                    case "datetime":
                        h = "" + b.jgrid.parseDate(f.newfmt || "Y-m-d", h).getTime();
                        g = 'jQuery.jgrid.parseDate("' + f.srcfmt + '",' + g + ").getTime()";
                        break;
                    default:
                        g = e._getStr(g), h = e._getStr('"' + e._toStr(h) + '"')
                }
                e._append(g + " " + i + " " + h);
                e._setCommand(a,
                    d);
                e._resetNegate();
                return e
            };
            this.equals = function (a, b, d) {
                return e._compareValues(e.equals, a, b, "==", d)
            };
            this.notEquals = function (a, b, d) {
                return e._compareValues(e.equals, a, b, "!==", d)
            };
            this.isNull = function (a, b, d) {
                return e._compareValues(e.equals, a, null, "===", d)
            };
            this.greater = function (a, b, d) {
                return e._compareValues(e.greater, a, b, ">", d)
            };
            this.less = function (a, b, d) {
                return e._compareValues(e.less, a, b, "<", d)
            };
            this.greaterOrEquals = function (a, b, d) {
                return e._compareValues(e.greaterOrEquals, a, b, ">=", d)
            };
            this.lessOrEquals =
                function (a, b, d) {
                    return e._compareValues(e.lessOrEquals, a, b, "<=", d)
                };
            this.startsWith = function (a, d) {
                var c = null == d ? a : d, c = f ? b.trim(c.toString()).length : c.toString().length;
                E ? e._append(e._getStr("jQuery.jgrid.getAccessor(this,'" + a + "')") + ".substr(0," + c + ") == " + e._getStr('"' + e._toStr(d) + '"')) : (c = f ? b.trim(d.toString()).length : d.toString().length, e._append(e._getStr("this") + ".substr(0," + c + ") == " + e._getStr('"' + e._toStr(a) + '"')));
                e._setCommand(e.startsWith, a);
                e._resetNegate();
                return e
            };
            this.endsWith = function (a, d) {
                var c = null == d ? a : d, c = f ? b.trim(c.toString()).length : c.toString().length;
                E ? e._append(e._getStr("jQuery.jgrid.getAccessor(this,'" + a + "')") + ".substr(" + e._getStr("jQuery.jgrid.getAccessor(this,'" + a + "')") + ".length-" + c + "," + c + ') == "' + e._toStr(d) + '"') : e._append(e._getStr("this") + ".substr(" + e._getStr("this") + '.length-"' + e._toStr(a) + '".length,"' + e._toStr(a) + '".length) == "' + e._toStr(a) + '"');
                e._setCommand(e.endsWith, a);
                e._resetNegate();
                return e
            };
            this.contains = function (a, b) {
                E ? e._append(e._getStr("jQuery.jgrid.getAccessor(this,'" +
                    a + "')") + '.indexOf("' + e._toStr(b) + '",0) > -1') : e._append(e._getStr("this") + '.indexOf("' + e._toStr(a) + '",0) > -1');
                e._setCommand(e.contains, a);
                e._resetNegate();
                return e
            };
            this.groupBy = function (b, d, c, i) {
                return!e._hasData() ? null : e._getGroup(a, b, d, c, i)
            };
            this.orderBy = function (a, d, c, i) {
                d = null == d ? "a" : b.trim(d.toString().toLowerCase());
                null == c && (c = "text");
                null == i && (i = "Y-m-d");
                if ("desc" === d || "descending" === d)d = "d";
                if ("asc" === d || "ascending" === d)d = "a";
                u.push({by: a, dir: d, type: c, datefmt: i});
                return e
            };
            return e
        }(d,
                null)
    }, getMethod: function (d) {
        return this.getAccessor(b.fn.jqGrid, d)
    }, extend: function (d) {
        b.extend(b.fn.jqGrid, d);
        this.no_legacy_api || b.fn.extend(d)
    }});
    b.fn.jqGrid = function (d) {
        if ("string" === typeof d) {
            var g = b.jgrid.getMethod(d);
            if (!g)throw"jqGrid - No such method: " + d;
            var c = b.makeArray(arguments).slice(1);
            return g.apply(this, c)
        }
        return this.each(function () {
            if (!this.grid) {
                var e = b.extend(!0, {url: "", height: 150, page: 1, rowNum: 20, rowTotal: null, records: 0, pager: "", pgbuttons: !0, pginput: !0, colModel: [], rowList: [],
                    colNames: [], sortorder: "asc", sortname: "", datatype: "xml", mtype: "GET", altRows: !1, selarrrow: [], savedRow: [], shrinkToFit: !0, xmlReader: {}, jsonReader: {}, subGrid: !1, subGridModel: [], reccount: 0, lastpage: 0, lastsort: 0, selrow: null, beforeSelectRow: null, onSelectRow: null, onSortCol: null, ondblClickRow: null, onRightClickRow: null, onPaging: null, onSelectAll: null, onInitGrid: null, loadComplete: null, gridComplete: null, loadError: null, loadBeforeSend: null, afterInsertRow: null, beforeRequest: null, beforeProcessing: null, onHeaderClick: null,
                    viewrecords: !1, loadonce: !1, multiselect: !1, multikey: !1, editurl: null, search: !1, caption: "", hidegrid: !0, hiddengrid: !1, postData: {}, userData: {}, treeGrid: !1, treeGridModel: "nested", treeReader: {}, treeANode: -1, ExpandColumn: null, tree_root_level: 0, prmNames: {page: "page", rows: "rows", sort: "sidx", order: "sord", search: "_search", nd: "nd", id: "id", oper: "oper", editoper: "edit", addoper: "add", deloper: "del", subgridid: "id", npage: null, totalrows: "totalrows"}, forceFit: !1, gridstate: "visible", cellEdit: !1, cellsubmit: "remote", nv: 0,
                    loadui: "enable", toolbar: [!1, ""], scroll: !1, multiboxonly: !1, deselectAfterSort: !0, scrollrows: !1, autowidth: !1, scrollOffset: 18, cellLayout: 5, subGridWidth: 20, multiselectWidth: 20, gridview: !1, rownumWidth: 25, rownumbers: !1, pagerpos: "center", recordpos: "right", footerrow: !1, userDataOnFooter: !1, hoverrows: !0, altclass: "ui-priority-secondary", viewsortcols: [!1, "vertical", !0], resizeclass: "", autoencode: !1, remapColumns: [], ajaxGridOptions: {}, direction: "ltr", toppager: !1, headertitles: !1, scrollTimeout: 40, data: [], _index: {},
                    grouping: !1, groupingView: {groupField: [], groupOrder: [], groupText: [], groupColumnShow: [], groupSummary: [], showSummaryOnHide: !1, sortitems: [], sortnames: [], summary: [], summaryval: [], plusicon: "ui-icon-circlesmall-plus", minusicon: "ui-icon-circlesmall-minus", displayField: []}, ignoreCase: !1, cmTemplate: {}, idPrefix: "", multiSort: !1}, b.jgrid.defaults, d || {}), a = this, c = {headers: [], cols: [], footers: [], dragStart: function (c, d, f) {
                    this.resizing = {idx: c, startX: d.clientX, sOL: d.clientX - 6};
                    this.hDiv.style.cursor = "col-resize";
                    this.curGbox =
                        b("#rs_m" + b.jgrid.jqID(e.id), "#gbox_" + b.jgrid.jqID(e.id));
                    this.curGbox.css({display: "block", left: d.clientX - 6, top: f[1], height: f[2]});
                    b(a).triggerHandler("jqGridResizeStart", [d, c]);
                    b.isFunction(e.resizeStart) && e.resizeStart.call(a, d, c);
                    document.onselectstart = function () {
                        return!1
                    }
                }, dragMove: function (a) {
                    if (this.resizing) {
                        var b = a.clientX - this.resizing.startX, a = this.headers[this.resizing.idx], c = "ltr" === e.direction ? a.width + b : a.width - b, d;
                        33 < c && (this.curGbox.css({left: this.resizing.sOL + b}), !0 === e.forceFit ?
                            (d = this.headers[this.resizing.idx + e.nv], b = "ltr" === e.direction ? d.width - b : d.width + b, 33 < b && (a.newWidth = c, d.newWidth = b)) : (this.newWidth = "ltr" === e.direction ? e.tblwidth + b : e.tblwidth - b, a.newWidth = c))
                    }
                }, dragEnd: function () {
                    this.hDiv.style.cursor = "default";
                    if (this.resizing) {
                        var c = this.resizing.idx, d = this.headers[c].newWidth || this.headers[c].width, d = parseInt(d, 10);
                        this.resizing = !1;
                        b("#rs_m" + b.jgrid.jqID(e.id)).css("display", "none");
                        e.colModel[c].width = d;
                        this.headers[c].width = d;
                        this.headers[c].el.style.width =
                            d + "px";
                        this.cols[c].style.width = d + "px";
                        0 < this.footers.length && (this.footers[c].style.width = d + "px");
                        !0 === e.forceFit ? (d = this.headers[c + e.nv].newWidth || this.headers[c + e.nv].width, this.headers[c + e.nv].width = d, this.headers[c + e.nv].el.style.width = d + "px", this.cols[c + e.nv].style.width = d + "px", 0 < this.footers.length && (this.footers[c + e.nv].style.width = d + "px"), e.colModel[c + e.nv].width = d) : (e.tblwidth = this.newWidth || e.tblwidth, b("table:first", this.bDiv).css("width", e.tblwidth + "px"), b("table:first", this.hDiv).css("width",
                            e.tblwidth + "px"), this.hDiv.scrollLeft = this.bDiv.scrollLeft, e.footerrow && (b("table:first", this.sDiv).css("width", e.tblwidth + "px"), this.sDiv.scrollLeft = this.bDiv.scrollLeft));
                        b(a).triggerHandler("jqGridResizeStop", [d, c]);
                        b.isFunction(e.resizeStop) && e.resizeStop.call(a, d, c)
                    }
                    this.curGbox = null;
                    document.onselectstart = function () {
                        return!0
                    }
                }, populateVisible: function () {
                    c.timer && clearTimeout(c.timer);
                    c.timer = null;
                    var a = b(c.bDiv).height();
                    if (a) {
                        var d = b("table:first", c.bDiv), f, g;
                        if (d[0].rows.length)try {
                            g = (f = d[0].rows[1]) ?
                                b(f).outerHeight() || c.prevRowHeight : c.prevRowHeight
                        } catch (va) {
                            g = c.prevRowHeight
                        }
                        if (g) {
                            c.prevRowHeight = g;
                            var h = e.rowNum;
                            f = c.scrollTop = c.bDiv.scrollTop;
                            var j = Math.round(d.position().top) - f, k = j + d.height();
                            g *= h;
                            var B, F, A;
                            if (k < a && 0 >= j && (void 0 === e.lastpage || parseInt((k + f + g - 1) / g, 10) <= e.lastpage))F = parseInt((a - k + g - 1) / g, 10), 0 <= k || 2 > F || !0 === e.scroll ? (B = Math.round((k + f) / g) + 1, j = -1) : j = 1;
                            0 < j && (B = parseInt(f / g, 10) + 1, F = parseInt((f + a) / g, 10) + 2 - B, A = !0);
                            if (F && (!e.lastpage || !(B > e.lastpage || 1 === e.lastpage || B === e.page &&
                                B === e.lastpage)))c.hDiv.loading ? c.timer = setTimeout(c.populateVisible, e.scrollTimeout) : (e.page = B, A && (c.selectionPreserver(d[0]), c.emptyRows.call(d[0], !1, !1)), c.populate(F))
                        }
                    }
                }, scrollGrid: function (a) {
                    if (e.scroll) {
                        var b = c.bDiv.scrollTop;
                        void 0 === c.scrollTop && (c.scrollTop = 0);
                        b !== c.scrollTop && (c.scrollTop = b, c.timer && clearTimeout(c.timer), c.timer = setTimeout(c.populateVisible, e.scrollTimeout))
                    }
                    c.hDiv.scrollLeft = c.bDiv.scrollLeft;
                    e.footerrow && (c.sDiv.scrollLeft = c.bDiv.scrollLeft);
                    a && a.stopPropagation()
                },
                    selectionPreserver: function (a) {
                        var c = a.p, d = c.selrow, e = c.selarrrow ? b.makeArray(c.selarrrow) : null, f = a.grid.bDiv.scrollLeft, g = function () {
                            var h;
                            c.selrow = null;
                            c.selarrrow = [];
                            if (c.multiselect && e && 0 < e.length)for (h = 0; h < e.length; h++)e[h] !== d && b(a).jqGrid("setSelection", e[h], !1, null);
                            d && b(a).jqGrid("setSelection", d, !1, null);
                            a.grid.bDiv.scrollLeft = f;
                            b(a).unbind(".selectionPreserver", g)
                        };
                        b(a).bind("jqGridGridComplete.selectionPreserver", g)
                    }};
                if ("TABLE" !== this.tagName.toUpperCase())alert("Element is not a table");
                else if (void 0 !== document.documentMode && 5 >= document.documentMode)alert("Grid can not be used in this ('quirks') mode!"); else {
                    b(this).empty().attr("tabindex", "0");
                    this.p = e;
                    this.p.useProp = !!b.fn.prop;
                    var f, g;
                    if (0 === this.p.colNames.length)for (f = 0; f < this.p.colModel.length; f++)this.p.colNames[f] = this.p.colModel[f].label || this.p.colModel[f].name;
                    if (this.p.colNames.length !== this.p.colModel.length)alert(b.jgrid.errors.model); else {
                        var j = b("<div class='ui-jqgrid-view'></div>"), k = b.jgrid.msie;
                        a.p.direction =
                            b.trim(a.p.direction.toLowerCase());
                        -1 === b.inArray(a.p.direction, ["ltr", "rtl"]) && (a.p.direction = "ltr");
                        g = a.p.direction;
                        b(j).insertBefore(this);
                        b(this).removeClass("scroll").appendTo(j);
                        var m = b("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");
                        b(m).attr({id: "gbox_" + this.id, dir: g}).insertBefore(j);
                        b(j).attr("id", "gview_" + this.id).appendTo(m);
                        b("<div class='ui-widget-overlay jqgrid-overlay' id='lui_" + this.id + "'></div>").insertBefore(j);
                        b("<div class='loading ui-state-default ui-state-active' id='load_" +
                            this.id + "'>" + this.p.loadtext + "</div>").insertBefore(j);
                        b(this).attr({cellspacing: "0", cellpadding: "0", border: "0", role: "grid", "aria-multiselectable": !!this.p.multiselect, "aria-labelledby": "gbox_" + this.id});
                        var n = function (a, b) {
                            a = parseInt(a, 10);
                            return isNaN(a) ? b || 0 : a
                        }, l = function (d, e, f, g, h, j) {
                            var R = a.p.colModel[d], k = R.align, B = 'style="', F = R.classes, A = R.name, t = [];
                            k && (B = B + ("text-align:" + k + ";"));
                            R.hidden === true && (B = B + "display:none;");
                            if (e === 0)B = B + ("width: " + c.headers[d].width + "px;"); else if (R.cellattr && b.isFunction(R.cellattr))if ((d =
                                R.cellattr.call(a, h, f, g, R, j)) && typeof d === "string") {
                                d = d.replace(/style/i, "style").replace(/title/i, "title");
                                if (d.indexOf("title") > -1)R.title = false;
                                d.indexOf("class") > -1 && (F = void 0);
                                t = d.replace("-style", "-sti").split(/style/);
                                if (t.length === 2) {
                                    t[1] = b.trim(t[1].replace("-sti", "-style").replace("=", ""));
                                    if (t[1].indexOf("'") === 0 || t[1].indexOf('"') === 0)t[1] = t[1].substring(1);
                                    B = B + t[1].replace(/'/gi, '"')
                                } else B = B + '"'
                            }
                            if (!t.length) {
                                t[0] = "";
                                B = B + '"'
                            }
                            B = B + ((F !== void 0 ? ' class="' + F + '"' : "") + (R.title && f ? ' title="' +
                                b.jgrid.stripHtml(f) + '"' : ""));
                            B = B + (' aria-describedby="' + a.p.id + "_" + A + '"');
                            return B + t[0]
                        }, r = function (c) {
                            return c == null || c === "" ? "&#160;" : a.p.autoencode ? b.jgrid.htmlEncode(c) : "" + c
                        }, u = function (c, d, e, f, g) {
                            var h = a.p.colModel[e];
                            if (h.formatter !== void 0) {
                                c = "" + a.p.idPrefix !== "" ? b.jgrid.stripPref(a.p.idPrefix, c) : c;
                                c = {rowId: c, colModel: h, gid: a.p.id, pos: e};
                                d = b.isFunction(h.formatter) ? h.formatter.call(a, d, c, f, g) : b.fmatter ? b.fn.fmatter.call(a, h.formatter, d, c, f, g) : r(d)
                            } else d = r(d);
                            return d
                        }, E = function (a, b, c, d, e, f) {
                            b = u(a, b, c, e, "add");
                            return'<td role="gridcell" ' + l(c, d, b, e, a, f) + ">" + b + "</td>"
                        }, T = function (b, c, d, e) {
                            e = '<input role="checkbox" type="checkbox" id="jqg_' + a.p.id + "_" + b + '" class="cbox" name="jqg_' + a.p.id + "_" + b + '"' + (e ? 'checked="checked"' : "") + "/>";
                            return'<td role="gridcell" ' + l(c, d, "", null, b, true) + ">" + e + "</td>"
                        }, L = function (a, b, c, d) {
                            c = (parseInt(c, 10) - 1) * parseInt(d, 10) + 1 + b;
                            return'<td role="gridcell" class="ui-state-default jqgrid-rownum" ' + l(a, b, c, null, b, true) + ">" + c + "</td>"
                        }, ba = function (b) {
                            var c, d = [], e =
                                0, f;
                            for (f = 0; f < a.p.colModel.length; f++) {
                                c = a.p.colModel[f];
                                if (c.name !== "cb" && c.name !== "subgrid" && c.name !== "rn") {
                                    d[e] = b === "local" ? c.name : b === "xml" || b === "xmlstring" ? c.xmlmap || c.name : c.jsonmap || c.name;
                                    if (a.p.keyIndex !== false && c.key === true)a.p.keyName = d[e];
                                    e++
                                }
                            }
                            return d
                        }, V = function (c) {
                            var d = a.p.remapColumns;
                            if (!d || !d.length)d = b.map(a.p.colModel, function (a, b) {
                                return b
                            });
                            c && (d = b.map(d, function (a) {
                                return a < c ? null : a - c
                            }));
                            return d
                        }, W = function (a, c) {
                            var d;
                            if (this.p.deepempty)b(this.rows).slice(1).remove(); else {
                                d =
                                    this.rows.length > 0 ? this.rows[0] : null;
                                b(this.firstChild).empty().append(d)
                            }
                            if (a && this.p.scroll) {
                                b(this.grid.bDiv.firstChild).css({height: "auto"});
                                b(this.grid.bDiv.firstChild.firstChild).css({height: 0, display: "none"});
                                if (this.grid.bDiv.scrollTop !== 0)this.grid.bDiv.scrollTop = 0
                            }
                            if (c === true && this.p.treeGrid) {
                                this.p.data = [];
                                this.p._index = {}
                            }
                        }, P = function () {
                            var c = a.p.data.length, d, e, f;
                            d = a.p.rownumbers === true ? 1 : 0;
                            e = a.p.multiselect === true ? 1 : 0;
                            f = a.p.subGrid === true ? 1 : 0;
                            d = a.p.keyIndex === false || a.p.loadonce ===
                                true ? a.p.localReader.id : a.p.colModel[a.p.keyIndex + e + f + d].name;
                            for (e = 0; e < c; e++) {
                                f = b.jgrid.getAccessor(a.p.data[e], d);
                                f === void 0 && (f = "" + (e + 1));
                                a.p._index[f] = e
                            }
                        }, Z = function (c, d, e, f, g, h) {
                            var i = "-1", j = "", k, d = d ? "display:none;" : "", e = "ui-widget-content jqgrow ui-row-" + a.p.direction + (e ? " " + e : "") + (h ? " ui-state-highlight" : ""), h = b(a).triggerHandler("jqGridRowAttr", [f, g, c]);
                            typeof h !== "object" && (h = b.isFunction(a.p.rowattr) ? a.p.rowattr.call(a, f, g, c) : {});
                            if (!b.isEmptyObject(h)) {
                                if (h.hasOwnProperty("id")) {
                                    c = h.id;
                                    delete h.id
                                }
                                if (h.hasOwnProperty("tabindex")) {
                                    i = h.tabindex;
                                    delete h.tabindex
                                }
                                if (h.hasOwnProperty("style")) {
                                    d = d + h.style;
                                    delete h.style
                                }
                                if (h.hasOwnProperty("class")) {
                                    e = e + (" " + h["class"]);
                                    delete h["class"]
                                }
                                try {
                                    delete h.role
                                } catch (F) {
                                }
                                for (k in h)h.hasOwnProperty(k) && (j = j + (" " + k + "=" + h[k]))
                            }
                            return'<tr role="row" id="' + c + '" tabindex="' + i + '" class="' + e + '"' + (d === "" ? "" : ' style="' + d + '"') + j + ">"
                        }, H = function (c, d, e, f, g) {
                            var h = new Date, i = a.p.datatype !== "local" && a.p.loadonce || a.p.datatype === "xmlstring", j = a.p.xmlReader,
                                k = a.p.datatype === "local" ? "local" : "xml";
                            if (i) {
                                a.p.data = [];
                                a.p._index = {};
                                a.p.localReader.id = "_id_"
                            }
                            a.p.reccount = 0;
                            if (b.isXMLDoc(c)) {
                                if (a.p.treeANode === -1 && !a.p.scroll) {
                                    W.call(a, false, true);
                                    e = 1
                                } else e = e > 1 ? e : 1;
                                var F = b(a), A, t, m = 0, l, q = a.p.multiselect === true ? 1 : 0, v = 0, u, O = a.p.rownumbers === true ? 1 : 0, r, o = [], $, s = {}, y, C, p = [], I = a.p.altRows === true ? a.p.altclass : "", w;
                                if (a.p.subGrid === true) {
                                    v = 1;
                                    u = b.jgrid.getMethod("addSubGridCell")
                                }
                                j.repeatitems || (o = ba(k));
                                r = a.p.keyIndex === false ? b.isFunction(j.id) ? j.id.call(a, c) : j.id :
                                    a.p.keyIndex;
                                if (o.length > 0 && !isNaN(r))r = a.p.keyName;
                                k = ("" + r).indexOf("[") === -1 ? o.length ? function (a, c) {
                                    return b(r, a).text() || c
                                } : function (a, c) {
                                    return b(j.cell, a).eq(r).text() || c
                                } : function (a, b) {
                                    return a.getAttribute(r.replace(/[\[\]]/g, "")) || b
                                };
                                a.p.userData = {};
                                a.p.page = n(b.jgrid.getXmlData(c, j.page), a.p.page);
                                a.p.lastpage = n(b.jgrid.getXmlData(c, j.total), 1);
                                a.p.records = n(b.jgrid.getXmlData(c, j.records));
                                b.isFunction(j.userdata) ? a.p.userData = j.userdata.call(a, c) || {} : b.jgrid.getXmlData(c, j.userdata, true).each(function () {
                                    a.p.userData[this.getAttribute("name")] =
                                        b(this).text()
                                });
                                c = b.jgrid.getXmlData(c, j.root, true);
                                (c = b.jgrid.getXmlData(c, j.row, true)) || (c = []);
                                var z = c.length, J = 0, x = [], D = parseInt(a.p.rowNum, 10), G = a.p.scroll ? b.jgrid.randId() : 1;
                                if (z > 0 && a.p.page <= 0)a.p.page = 1;
                                if (c && z) {
                                    g && (D = D * (g + 1));
                                    var g = b.isFunction(a.p.afterInsertRow), H = false, K;
                                    if (a.p.grouping) {
                                        H = a.p.groupingView.groupCollapse === true;
                                        K = b.jgrid.getMethod("groupingPrepare")
                                    }
                                    for (; J < z;) {
                                        y = c[J];
                                        C = k(y, G + J);
                                        C = a.p.idPrefix + C;
                                        A = e === 0 ? 0 : e + 1;
                                        w = (A + J) % 2 === 1 ? I : "";
                                        var M = p.length;
                                        p.push("");
                                        O && p.push(L(0, J,
                                            a.p.page, a.p.rowNum));
                                        q && p.push(T(C, O, J, false));
                                        v && p.push(u.call(F, q + O, J + e));
                                        if (j.repeatitems) {
                                            $ || ($ = V(q + v + O));
                                            var P = b.jgrid.getXmlData(y, j.cell, true);
                                            b.each($, function (b) {
                                                var c = P[this];
                                                if (!c)return false;
                                                l = c.textContent || c.text;
                                                s[a.p.colModel[b + q + v + O].name] = l;
                                                p.push(E(C, l, b + q + v + O, J + e, y, s))
                                            })
                                        } else for (A = 0; A < o.length; A++) {
                                            l = b.jgrid.getXmlData(y, o[A]);
                                            s[a.p.colModel[A + q + v + O].name] = l;
                                            p.push(E(C, l, A + q + v + O, J + e, y, s))
                                        }
                                        p[M] = Z(C, H, w, s, y, false);
                                        p.push("</tr>");
                                        if (a.p.grouping) {
                                            x = K.call(F, p, x, s, J);
                                            p = []
                                        }
                                        if (i ||
                                            a.p.treeGrid === true) {
                                            s._id_ = b.jgrid.stripPref(a.p.idPrefix, C);
                                            a.p.data.push(s);
                                            a.p._index[s._id_] = a.p.data.length - 1
                                        }
                                        if (a.p.gridview === false) {
                                            b("tbody:first", d).append(p.join(""));
                                            F.triggerHandler("jqGridAfterInsertRow", [C, s, y]);
                                            g && a.p.afterInsertRow.call(a, C, s, y);
                                            p = []
                                        }
                                        s = {};
                                        m++;
                                        J++;
                                        if (m === D)break
                                    }
                                }
                                if (a.p.gridview === true) {
                                    t = a.p.treeANode > -1 ? a.p.treeANode : 0;
                                    if (a.p.grouping) {
                                        F.jqGrid("groupingRender", x, a.p.colModel.length);
                                        x = null
                                    } else a.p.treeGrid === true && t > 0 ? b(a.rows[t]).after(p.join("")) : b("tbody:first",
                                        d).append(p.join(""))
                                }
                                if (a.p.subGrid === true)try {
                                    F.jqGrid("addSubGrid", q + O)
                                } catch (Q) {
                                }
                                a.p.totaltime = new Date - h;
                                if (m > 0 && a.p.records === 0)a.p.records = z;
                                p = null;
                                if (a.p.treeGrid === true)try {
                                    F.jqGrid("setTreeNode", t + 1, m + t + 1)
                                } catch (S) {
                                }
                                if (!a.p.treeGrid && !a.p.scroll)a.grid.bDiv.scrollTop = 0;
                                a.p.reccount = m;
                                a.p.treeANode = -1;
                                a.p.userDataOnFooter && F.jqGrid("footerData", "set", a.p.userData, true);
                                if (i) {
                                    a.p.records = z;
                                    a.p.lastpage = Math.ceil(z / D)
                                }
                                f || a.updatepager(false, true);
                                if (i)for (; m < z;) {
                                    y = c[m];
                                    C = k(y, m + G);
                                    C = a.p.idPrefix +
                                        C;
                                    if (j.repeatitems) {
                                        $ || ($ = V(q + v + O));
                                        var N = b.jgrid.getXmlData(y, j.cell, true);
                                        b.each($, function (b) {
                                            var c = N[this];
                                            if (!c)return false;
                                            l = c.textContent || c.text;
                                            s[a.p.colModel[b + q + v + O].name] = l
                                        })
                                    } else for (A = 0; A < o.length; A++) {
                                        l = b.jgrid.getXmlData(y, o[A]);
                                        s[a.p.colModel[A + q + v + O].name] = l
                                    }
                                    s._id_ = b.jgrid.stripPref(a.p.idPrefix, C);
                                    a.p.data.push(s);
                                    a.p._index[s._id_] = a.p.data.length - 1;
                                    s = {};
                                    m++
                                }
                            }
                        }, U = function (c, d, e, f, g) {
                            var h = new Date;
                            if (c) {
                                if (a.p.treeANode === -1 && !a.p.scroll) {
                                    W.call(a, false, true);
                                    e = 1
                                } else e = e > 1 ? e :
                                    1;
                                var i, j = a.p.datatype !== "local" && a.p.loadonce || a.p.datatype === "jsonstring";
                                if (j) {
                                    a.p.data = [];
                                    a.p._index = {};
                                    a.p.localReader.id = "_id_"
                                }
                                a.p.reccount = 0;
                                if (a.p.datatype === "local") {
                                    d = a.p.localReader;
                                    i = "local"
                                } else {
                                    d = a.p.jsonReader;
                                    i = "json"
                                }
                                var k = b(a), m = 0, A, t, l, r = [], q = a.p.multiselect ? 1 : 0, v = a.p.subGrid === true ? 1 : 0, u, o = a.p.rownumbers === true ? 1 : 0, z = V(q + v + o);
                                i = ba(i);
                                var w, x, s, y = {}, C, p, I = [], D = a.p.altRows === true ? a.p.altclass : "", G;
                                a.p.page = n(b.jgrid.getAccessor(c, d.page), a.p.page);
                                a.p.lastpage = n(b.jgrid.getAccessor(c,
                                    d.total), 1);
                                a.p.records = n(b.jgrid.getAccessor(c, d.records));
                                a.p.userData = b.jgrid.getAccessor(c, d.userdata) || {};
                                v && (u = b.jgrid.getMethod("addSubGridCell"));
                                s = a.p.keyIndex === false ? b.isFunction(d.id) ? d.id.call(a, c) : d.id : a.p.keyIndex;
                                if (!d.repeatitems) {
                                    r = i;
                                    if (r.length > 0 && !isNaN(s))s = a.p.keyName
                                }
                                x = b.jgrid.getAccessor(c, d.root);
                                x == null && b.isArray(c) && (x = c);
                                x || (x = []);
                                c = x.length;
                                t = 0;
                                if (c > 0 && a.p.page <= 0)a.p.page = 1;
                                var J = parseInt(a.p.rowNum, 10), H = a.p.scroll ? b.jgrid.randId() : 1, K = false, M;
                                g && (J = J * (g + 1));
                                a.p.datatype ===
                                    "local" && !a.p.deselectAfterSort && (K = true);
                                var P = b.isFunction(a.p.afterInsertRow), N = [], Q = false, S;
                                if (a.p.grouping) {
                                    Q = a.p.groupingView.groupCollapse === true;
                                    S = b.jgrid.getMethod("groupingPrepare")
                                }
                                for (; t < c;) {
                                    g = x[t];
                                    p = b.jgrid.getAccessor(g, s);
                                    if (p === void 0) {
                                        typeof s === "number" && a.p.colModel[s + q + v + o] != null && (p = b.jgrid.getAccessor(g, a.p.colModel[s + q + v + o].name));
                                        if (p === void 0) {
                                            p = H + t;
                                            if (r.length === 0 && d.cell) {
                                                A = b.jgrid.getAccessor(g, d.cell) || g;
                                                p = A != null && A[s] !== void 0 ? A[s] : p
                                            }
                                        }
                                    }
                                    p = a.p.idPrefix + p;
                                    A = e === 1 ? 0 : e;
                                    G =
                                        (A + t) % 2 === 1 ? D : "";
                                    K && (M = a.p.multiselect ? b.inArray(p, a.p.selarrrow) !== -1 : p === a.p.selrow);
                                    var U = I.length;
                                    I.push("");
                                    o && I.push(L(0, t, a.p.page, a.p.rowNum));
                                    q && I.push(T(p, o, t, M));
                                    v && I.push(u.call(k, q + o, t + e));
                                    w = i;
                                    if (d.repeatitems) {
                                        d.cell && (g = b.jgrid.getAccessor(g, d.cell) || g);
                                        b.isArray(g) && (w = z)
                                    }
                                    for (l = 0; l < w.length; l++) {
                                        A = b.jgrid.getAccessor(g, w[l]);
                                        y[a.p.colModel[l + q + v + o].name] = A;
                                        I.push(E(p, A, l + q + v + o, t + e, g, y))
                                    }
                                    I[U] = Z(p, Q, G, y, g, M);
                                    I.push("</tr>");
                                    if (a.p.grouping) {
                                        N = S.call(k, I, N, y, t);
                                        I = []
                                    }
                                    if (j || a.p.treeGrid ===
                                        true) {
                                        y._id_ = b.jgrid.stripPref(a.p.idPrefix, p);
                                        a.p.data.push(y);
                                        a.p._index[y._id_] = a.p.data.length - 1
                                    }
                                    if (a.p.gridview === false) {
                                        b("#" + b.jgrid.jqID(a.p.id) + " tbody:first").append(I.join(""));
                                        k.triggerHandler("jqGridAfterInsertRow", [p, y, g]);
                                        P && a.p.afterInsertRow.call(a, p, y, g);
                                        I = []
                                    }
                                    y = {};
                                    m++;
                                    t++;
                                    if (m === J)break
                                }
                                if (a.p.gridview === true) {
                                    C = a.p.treeANode > -1 ? a.p.treeANode : 0;
                                    a.p.grouping ? k.jqGrid("groupingRender", N, a.p.colModel.length) : a.p.treeGrid === true && C > 0 ? b(a.rows[C]).after(I.join("")) : b("#" + b.jgrid.jqID(a.p.id) +
                                        " tbody:first").append(I.join(""))
                                }
                                if (a.p.subGrid === true)try {
                                    k.jqGrid("addSubGrid", q + o)
                                } catch (X) {
                                }
                                a.p.totaltime = new Date - h;
                                if (m > 0 && a.p.records === 0)a.p.records = c;
                                if (a.p.treeGrid === true)try {
                                    k.jqGrid("setTreeNode", C + 1, m + C + 1)
                                } catch (Y) {
                                }
                                if (!a.p.treeGrid && !a.p.scroll)a.grid.bDiv.scrollTop = 0;
                                a.p.reccount = m;
                                a.p.treeANode = -1;
                                a.p.userDataOnFooter && k.jqGrid("footerData", "set", a.p.userData, true);
                                if (j) {
                                    a.p.records = c;
                                    a.p.lastpage = Math.ceil(c / J)
                                }
                                f || a.updatepager(false, true);
                                if (j)for (; m < c && x[m];) {
                                    g = x[m];
                                    p = b.jgrid.getAccessor(g,
                                        s);
                                    if (p === void 0) {
                                        typeof s === "number" && a.p.colModel[s + q + v + o] != null && (p = b.jgrid.getAccessor(g, a.p.colModel[s + q + v + o].name));
                                        if (p === void 0) {
                                            p = H + m;
                                            if (r.length === 0 && d.cell) {
                                                e = b.jgrid.getAccessor(g, d.cell) || g;
                                                p = e != null && e[s] !== void 0 ? e[s] : p
                                            }
                                        }
                                    }
                                    if (g) {
                                        p = a.p.idPrefix + p;
                                        w = i;
                                        if (d.repeatitems) {
                                            d.cell && (g = b.jgrid.getAccessor(g, d.cell) || g);
                                            b.isArray(g) && (w = z)
                                        }
                                        for (l = 0; l < w.length; l++)y[a.p.colModel[l + q + v + o].name] = b.jgrid.getAccessor(g, w[l]);
                                        y._id_ = b.jgrid.stripPref(a.p.idPrefix, p);
                                        a.p.data.push(y);
                                        a.p._index[y._id_] =
                                            a.p.data.length - 1;
                                        y = {}
                                    }
                                    m++
                                }
                            }
                        }, ka = function () {
                            function c(a) {
                                var b = 0, d, e, g, h, i;
                                if (a.groups != null) {
                                    (e = a.groups.length && a.groupOp.toString().toUpperCase() === "OR") && q.orBegin();
                                    for (d = 0; d < a.groups.length; d++) {
                                        b > 0 && e && q.or();
                                        try {
                                            c(a.groups[d])
                                        } catch (j) {
                                            alert(j)
                                        }
                                        b++
                                    }
                                    e && q.orEnd()
                                }
                                if (a.rules != null)try {
                                    (g = a.rules.length && a.groupOp.toString().toUpperCase() === "OR") && q.orBegin();
                                    for (d = 0; d < a.rules.length; d++) {
                                        i = a.rules[d];
                                        h = a.groupOp.toString().toUpperCase();
                                        if (o[i.op] && i.field) {
                                            b > 0 && h && h === "OR" && (q = q.or());
                                            q = o[i.op](q,
                                                h)(i.field, i.data, f[i.field])
                                        }
                                        b++
                                    }
                                    g && q.orEnd()
                                } catch (ra) {
                                    alert(ra)
                                }
                            }

                            var d = a.p.multiSort ? [] : "", e = [], g = false, f = {}, h = [], i = [], j, k, m;
                            if (b.isArray(a.p.data)) {
                                var l = a.p.grouping ? a.p.groupingView : false, t, n;
                                b.each(a.p.colModel, function () {
                                    k = this.sorttype || "text";
                                    if (k === "date" || k === "datetime") {
                                        if (this.formatter && typeof this.formatter === "string" && this.formatter === "date") {
                                            j = this.formatoptions && this.formatoptions.srcformat ? this.formatoptions.srcformat : b.jgrid.formatter.date.srcformat;
                                            m = this.formatoptions && this.formatoptions.newformat ?
                                                this.formatoptions.newformat : b.jgrid.formatter.date.newformat
                                        } else j = m = this.datefmt || "Y-m-d";
                                        f[this.name] = {stype: k, srcfmt: j, newfmt: m}
                                    } else f[this.name] = {stype: k, srcfmt: "", newfmt: ""};
                                    if (a.p.grouping) {
                                        n = 0;
                                        for (t = l.groupField.length; n < t; n++)if (this.name === l.groupField[n]) {
                                            var c = this.name;
                                            if (this.index)c = this.index;
                                            h[n] = f[c];
                                            i[n] = c
                                        }
                                    }
                                    if (a.p.multiSort) {
                                        if (this.lso) {
                                            d.push(this.name);
                                            c = this.lso.split("-");
                                            e.push(c[c.length - 1])
                                        }
                                    } else if (!g && (this.index === a.p.sortname || this.name === a.p.sortname)) {
                                        d = this.name;
                                        g = true
                                    }
                                });
                                if (a.p.treeGrid)b(a).jqGrid("SortTree", d, a.p.sortorder, f[d].stype || "text", f[d].srcfmt || ""); else {
                                    var o = {eq: function (a) {
                                        return a.equals
                                    }, ne: function (a) {
                                        return a.notEquals
                                    }, lt: function (a) {
                                        return a.less
                                    }, le: function (a) {
                                        return a.lessOrEquals
                                    }, gt: function (a) {
                                        return a.greater
                                    }, ge: function (a) {
                                        return a.greaterOrEquals
                                    }, cn: function (a) {
                                        return a.contains
                                    }, nc: function (a, b) {
                                        return b === "OR" ? a.orNot().contains : a.andNot().contains
                                    }, bw: function (a) {
                                        return a.startsWith
                                    }, bn: function (a, b) {
                                        return b === "OR" ? a.orNot().startsWith :
                                            a.andNot().startsWith
                                    }, en: function (a, b) {
                                        return b === "OR" ? a.orNot().endsWith : a.andNot().endsWith
                                    }, ew: function (a) {
                                        return a.endsWith
                                    }, ni: function (a, b) {
                                        return b === "OR" ? a.orNot().equals : a.andNot().equals
                                    }, "in": function (a) {
                                        return a.equals
                                    }, nu: function (a) {
                                        return a.isNull
                                    }, nn: function (a, b) {
                                        return b === "OR" ? a.orNot().isNull : a.andNot().isNull
                                    }}, q = b.jgrid.from(a.p.data);
                                    a.p.ignoreCase && (q = q.ignoreCase());
                                    if (a.p.search === true) {
                                        var v = a.p.postData.filters;
                                        if (v) {
                                            typeof v === "string" && (v = b.jgrid.parse(v));
                                            c(v)
                                        } else try {
                                            q =
                                                o[a.p.postData.searchOper](q)(a.p.postData.searchField, a.p.postData.searchString, f[a.p.postData.searchField])
                                        } catch (r) {
                                        }
                                    }
                                    if (a.p.grouping)for (n = 0; n < t; n++)q.orderBy(i[n], l.groupOrder[n], h[n].stype, h[n].srcfmt);
                                    a.p.multiSort ? b.each(d, function (a) {
                                        q.orderBy(this, e[a], f[this].stype, f[this].srcfmt)
                                    }) : d && a.p.sortorder && g && (a.p.sortorder.toUpperCase() === "DESC" ? q.orderBy(a.p.sortname, "d", f[d].stype, f[d].srcfmt) : q.orderBy(a.p.sortname, "a", f[d].stype, f[d].srcfmt));
                                    var v = q.select(), u = parseInt(a.p.rowNum, 10), x =
                                        v.length, w = parseInt(a.p.page, 10), z = Math.ceil(x / u), s = {}, v = v.slice((w - 1) * u, w * u), f = q = null;
                                    s[a.p.localReader.total] = z;
                                    s[a.p.localReader.page] = w;
                                    s[a.p.localReader.records] = x;
                                    s[a.p.localReader.root] = v;
                                    s[a.p.localReader.userdata] = a.p.userData;
                                    v = null;
                                    return s
                                }
                            }
                        }, S = function () {
                            a.grid.hDiv.loading = true;
                            if (!a.p.hiddengrid)switch (a.p.loadui) {
                                case "enable":
                                    b("#load_" + b.jgrid.jqID(a.p.id)).show();
                                    break;
                                case "block":
                                    b("#lui_" + b.jgrid.jqID(a.p.id)).show();
                                    b("#load_" + b.jgrid.jqID(a.p.id)).show()
                            }
                        }, Q = function () {
                            a.grid.hDiv.loading =
                                false;
                            switch (a.p.loadui) {
                                case "enable":
                                    b("#load_" + b.jgrid.jqID(a.p.id)).hide();
                                    break;
                                case "block":
                                    b("#lui_" + b.jgrid.jqID(a.p.id)).hide();
                                    b("#load_" + b.jgrid.jqID(a.p.id)).hide()
                            }
                        }, M = function (c) {
                            if (!a.grid.hDiv.loading) {
                                var d = a.p.scroll && c === false, e = {}, g, f = a.p.prmNames;
                                if (a.p.page <= 0)a.p.page = Math.min(1, a.p.lastpage);
                                if (f.search !== null)e[f.search] = a.p.search;
                                f.nd !== null && (e[f.nd] = (new Date).getTime());
                                if (f.rows !== null)e[f.rows] = a.p.rowNum;
                                if (f.page !== null)e[f.page] = a.p.page;
                                if (f.sort !== null)e[f.sort] =
                                    a.p.sortname;
                                if (f.order !== null)e[f.order] = a.p.sortorder;
                                if (a.p.rowTotal !== null && f.totalrows !== null)e[f.totalrows] = a.p.rowTotal;
                                var h = b.isFunction(a.p.loadComplete), i = h ? a.p.loadComplete : null, j = 0, c = c || 1;
                                if (c > 1)if (f.npage !== null) {
                                    e[f.npage] = c;
                                    j = c - 1;
                                    c = 1
                                } else i = function (b) {
                                    a.p.page++;
                                    a.grid.hDiv.loading = false;
                                    h && a.p.loadComplete.call(a, b);
                                    M(c - 1)
                                }; else f.npage !== null && delete a.p.postData[f.npage];
                                if (a.p.grouping) {
                                    b(a).jqGrid("groupingSetup");
                                    var k = a.p.groupingView, m, n = "";
                                    for (m = 0; m < k.groupField.length; m++) {
                                        var l =
                                            k.groupField[m];
                                        b.each(a.p.colModel, function (a, b) {
                                            if (b.name === l && b.index)l = b.index
                                        });
                                        n = n + (l + " " + k.groupOrder[m] + ", ")
                                    }
                                    e[f.sort] = n + e[f.sort]
                                }
                                b.extend(a.p.postData, e);
                                var o = !a.p.scroll ? 1 : a.rows.length - 1, e = b(a).triggerHandler("jqGridBeforeRequest");
                                if (!(e === false || e === "stop"))if (b.isFunction(a.p.datatype))a.p.datatype.call(a, a.p.postData, "load_" + a.p.id, o, c, j); else {
                                    if (b.isFunction(a.p.beforeRequest)) {
                                        e = a.p.beforeRequest.call(a);
                                        e === void 0 && (e = true);
                                        if (e === false)return
                                    }
                                    g = a.p.datatype.toLowerCase();
                                    switch (g) {
                                        case "json":
                                        case "jsonp":
                                        case "xml":
                                        case "script":
                                            b.ajax(b.extend({url: a.p.url,
                                                type: a.p.mtype, dataType: g, data: b.isFunction(a.p.serializeGridData) ? a.p.serializeGridData.call(a, a.p.postData) : a.p.postData, success: function (e, f, h) {
                                                    if (b.isFunction(a.p.beforeProcessing) && a.p.beforeProcessing.call(a, e, f, h) === false)Q(); else {
                                                        g === "xml" ? H(e, a.grid.bDiv, o, c > 1, j) : U(e, a.grid.bDiv, o, c > 1, j);
                                                        b(a).triggerHandler("jqGridLoadComplete", [e]);
                                                        i && i.call(a, e);
                                                        b(a).triggerHandler("jqGridAfterLoadComplete", [e]);
                                                        d && a.grid.populateVisible();
                                                        if (a.p.loadonce || a.p.treeGrid)a.p.datatype = "local";
                                                        c === 1 && Q()
                                                    }
                                                },
                                                error: function (d, e, f) {
                                                    b.isFunction(a.p.loadError) && a.p.loadError.call(a, d, e, f);
                                                    c === 1 && Q()
                                                }, beforeSend: function (c, d) {
                                                    var e = true;
                                                    b.isFunction(a.p.loadBeforeSend) && (e = a.p.loadBeforeSend.call(a, c, d));
                                                    e === void 0 && (e = true);
                                                    if (e === false)return false;
                                                    S()
                                                }}, b.jgrid.ajaxOptions, a.p.ajaxGridOptions));
                                            break;
                                        case "xmlstring":
                                            S();
                                            e = typeof a.p.datastr !== "string" ? a.p.datastr : b.parseXML(a.p.datastr);
                                            H(e, a.grid.bDiv);
                                            b(a).triggerHandler("jqGridLoadComplete", [e]);
                                            h && a.p.loadComplete.call(a, e);
                                            b(a).triggerHandler("jqGridAfterLoadComplete",
                                                [e]);
                                            a.p.datatype = "local";
                                            a.p.datastr = null;
                                            Q();
                                            break;
                                        case "jsonstring":
                                            S();
                                            e = typeof a.p.datastr === "string" ? b.jgrid.parse(a.p.datastr) : a.p.datastr;
                                            U(e, a.grid.bDiv);
                                            b(a).triggerHandler("jqGridLoadComplete", [e]);
                                            h && a.p.loadComplete.call(a, e);
                                            b(a).triggerHandler("jqGridAfterLoadComplete", [e]);
                                            a.p.datatype = "local";
                                            a.p.datastr = null;
                                            Q();
                                            break;
                                        case "local":
                                        case "clientside":
                                            S();
                                            a.p.datatype = "local";
                                            e = ka();
                                            U(e, a.grid.bDiv, o, c > 1, j);
                                            b(a).triggerHandler("jqGridLoadComplete", [e]);
                                            i && i.call(a, e);
                                            b(a).triggerHandler("jqGridAfterLoadComplete",
                                                [e]);
                                            d && a.grid.populateVisible();
                                            Q()
                                    }
                                }
                            }
                        }, ea = function (c) {
                            b("#cb_" + b.jgrid.jqID(a.p.id), a.grid.hDiv)[a.p.useProp ? "prop" : "attr"]("checked", c);
                            if (a.p.frozenColumns && a.p.id + "_frozen")b("#cb_" + b.jgrid.jqID(a.p.id), a.grid.fhDiv)[a.p.useProp ? "prop" : "attr"]("checked", c)
                        }, la = function (c, d) {
                            var e = "", f = "<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>", i = "", j, k, m, l, o = function (c) {
                                var d;
                                b.isFunction(a.p.onPaging) && (d = a.p.onPaging.call(a, c));
                                if (d === "stop")return false;
                                a.p.selrow = null;
                                if (a.p.multiselect) {
                                    a.p.selarrrow = [];
                                    ea(false)
                                }
                                a.p.savedRow = [];
                                return true
                            }, c = c.substr(1), d = d + ("_" + c);
                            j = "pg_" + c;
                            k = c + "_left";
                            m = c + "_center";
                            l = c + "_right";
                            b("#" + b.jgrid.jqID(c)).append("<div id='" + j + "' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='" + k + "' align='left'></td><td id='" + m + "' align='center' style='white-space:pre;'></td><td id='" + l + "' align='right'></td></tr></tbody></table></div>").attr("dir",
                                "ltr");
                            if (a.p.rowList.length > 0) {
                                i = "<td dir='" + g + "'>";
                                i = i + "<select class='ui-pg-selbox' role='listbox'>";
                                for (k = 0; k < a.p.rowList.length; k++)i = i + ('<option role="option" value="' + a.p.rowList[k] + '"' + (a.p.rowNum === a.p.rowList[k] ? ' selected="selected"' : "") + ">" + a.p.rowList[k] + "</option>");
                                i = i + "</select></td>"
                            }
                            g === "rtl" && (f = f + i);
                            a.p.pginput === true && (e = "<td dir='" + g + "'>" + b.jgrid.format(a.p.pgtext || "", "<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>", "<span id='sp_1_" +
                                b.jgrid.jqID(c) + "'></span>") + "</td>");
                            if (a.p.pgbuttons === true) {
                                k = ["first" + d, "prev" + d, "next" + d, "last" + d];
                                g === "rtl" && k.reverse();
                                f = f + ("<td id='" + k[0] + "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>");
                                f = f + ("<td id='" + k[1] + "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>");
                                f = f + (e !== "" ? "<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>" + e + "<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>" :
                                    "") + ("<td id='" + k[2] + "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>");
                                f = f + ("<td id='" + k[3] + "' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>")
                            } else e !== "" && (f = f + e);
                            g === "ltr" && (f = f + i);
                            f = f + "</tr></tbody></table>";
                            a.p.viewrecords === true && b("td#" + c + "_" + a.p.recordpos, "#" + j).append("<div dir='" + g + "' style='text-align:" + a.p.recordpos + "' class='ui-paging-info'></div>");
                            b("td#" + c + "_" + a.p.pagerpos, "#" + j).append(f);
                            i = b(".ui-jqgrid").css("font-size") ||
                                "11px";
                            b(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:" + i + ";visibility:hidden;' ></div>");
                            f = b(f).clone().appendTo("#testpg").width();
                            b("#testpg").remove();
                            if (f > 0) {
                                e !== "" && (f = f + 50);
                                b("td#" + c + "_" + a.p.pagerpos, "#" + j).width(f)
                            }
                            a.p._nvtd = [];
                            a.p._nvtd[0] = f ? Math.floor((a.p.width - f) / 2) : Math.floor(a.p.width / 3);
                            a.p._nvtd[1] = 0;
                            f = null;
                            b(".ui-pg-selbox", "#" + j).bind("change", function () {
                                if (!o("records"))return false;
                                a.p.page = Math.round(a.p.rowNum * (a.p.page -
                                    1) / this.value - 0.5) + 1;
                                a.p.rowNum = this.value;
                                a.p.pager && b(".ui-pg-selbox", a.p.pager).val(this.value);
                                a.p.toppager && b(".ui-pg-selbox", a.p.toppager).val(this.value);
                                M();
                                return false
                            });
                            if (a.p.pgbuttons === true) {
                                b(".ui-pg-button", "#" + j).hover(function () {
                                    if (b(this).hasClass("ui-state-disabled"))this.style.cursor = "default"; else {
                                        b(this).addClass("ui-state-hover");
                                        this.style.cursor = "pointer"
                                    }
                                }, function () {
                                    if (!b(this).hasClass("ui-state-disabled")) {
                                        b(this).removeClass("ui-state-hover");
                                        this.style.cursor = "default"
                                    }
                                });
                                b("#first" + b.jgrid.jqID(d) + ", #prev" + b.jgrid.jqID(d) + ", #next" + b.jgrid.jqID(d) + ", #last" + b.jgrid.jqID(d)).click(function () {
                                    var b = n(a.p.page, 1), c = n(a.p.lastpage, 1), e = false, f = true, g = true, h = true, i = true;
                                    if (c === 0 || c === 1)i = h = g = f = false; else if (c > 1 && b >= 1)if (b === 1)g = f = false; else {
                                        if (b === c)i = h = false
                                    } else if (c > 1 && b === 0) {
                                        i = h = false;
                                        b = c - 1
                                    }
                                    if (!o(this.id))return false;
                                    if (this.id === "first" + d && f) {
                                        a.p.page = 1;
                                        e = true
                                    }
                                    if (this.id === "prev" + d && g) {
                                        a.p.page = b - 1;
                                        e = true
                                    }
                                    if (this.id === "next" + d && h) {
                                        a.p.page = b + 1;
                                        e = true
                                    }
                                    if (this.id ===
                                        "last" + d && i) {
                                        a.p.page = c;
                                        e = true
                                    }
                                    e && M();
                                    return false
                                })
                            }
                            a.p.pginput === true && b("input.ui-pg-input", "#" + j).keypress(function (c) {
                                if ((c.charCode || c.keyCode || 0) === 13) {
                                    if (!o("user"))return false;
                                    b(this).val(n(b(this).val(), 1));
                                    a.p.page = b(this).val() > 0 ? b(this).val() : a.p.page;
                                    M();
                                    return false
                                }
                                return this
                            })
                        }, sa = function (c, d) {
                            var e, f = "", g = a.p.colModel, h = false, i;
                            i = a.p.frozenColumns ? d : a.grid.headers[c].el;
                            var j = "";
                            b("span.ui-grid-ico-sort", i).addClass("ui-state-disabled");
                            b(i).attr("aria-selected", "false");
                            if (g[c].lso)if (g[c].lso ===
                                "asc") {
                                g[c].lso = g[c].lso + "-desc";
                                j = "desc"
                            } else if (g[c].lso === "desc") {
                                g[c].lso = g[c].lso + "-asc";
                                j = "asc"
                            } else {
                                if (g[c].lso === "asc-desc" || g[c].lso === "desc-asc")g[c].lso = ""
                            } else g[c].lso = j = g[c].firstsortorder || "asc";
                            if (j) {
                                b("span.s-ico", i).show();
                                b("span.ui-icon-" + j, i).removeClass("ui-state-disabled");
                                b(i).attr("aria-selected", "true")
                            } else a.p.viewsortcols[0] || b("span.s-ico", i).hide();
                            a.p.sortorder = "";
                            b.each(g, function (b) {
                                if (this.lso) {
                                    b > 0 && h && (f = f + ", ");
                                    e = this.lso.split("-");
                                    f = f + (g[b].index || g[b].name);
                                    f = f + (" " + e[e.length - 1]);
                                    h = true;
                                    a.p.sortorder = e[e.length - 1]
                                }
                            });
                            i = f.lastIndexOf(a.p.sortorder);
                            f = f.substring(0, i);
                            a.p.sortname = f
                        }, ma = function (c, d, e, f, g) {
                            if (a.p.colModel[d].sortable && !(a.p.savedRow.length > 0)) {
                                if (!e) {
                                    if (a.p.lastsort === d)if (a.p.sortorder === "asc")a.p.sortorder = "desc"; else {
                                        if (a.p.sortorder === "desc")a.p.sortorder = "asc"
                                    } else a.p.sortorder = a.p.colModel[d].firstsortorder || "asc";
                                    a.p.page = 1
                                }
                                if (a.p.multiSort)sa(d, g); else {
                                    if (f) {
                                        if (a.p.lastsort === d && a.p.sortorder === f && !e)return;
                                        a.p.sortorder = f
                                    }
                                    e =
                                        a.grid.headers[a.p.lastsort].el;
                                    g = a.p.frozenColumns ? g : a.grid.headers[d].el;
                                    b("span.ui-grid-ico-sort", e).addClass("ui-state-disabled");
                                    b(e).attr("aria-selected", "false");
                                    if (a.p.frozenColumns) {
                                        a.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled");
                                        a.grid.fhDiv.find("th").attr("aria-selected", "false")
                                    }
                                    b("span.ui-icon-" + a.p.sortorder, g).removeClass("ui-state-disabled");
                                    b(g).attr("aria-selected", "true");
                                    if (!a.p.viewsortcols[0] && a.p.lastsort !== d) {
                                        a.p.frozenColumns && a.grid.fhDiv.find("span.s-ico").hide();
                                        b("span.s-ico", e).hide();
                                        b("span.s-ico", g).show()
                                    }
                                    c = c.substring(5 + a.p.id.length + 1);
                                    a.p.sortname = a.p.colModel[d].index || c
                                }
                                if (b(a).triggerHandler("jqGridSortCol", [a.p.sortname, d, a.p.sortorder]) === "stop")a.p.lastsort = d; else if (b.isFunction(a.p.onSortCol) && a.p.onSortCol.call(a, a.p.sortname, d, a.p.sortorder) === "stop")a.p.lastsort = d; else {
                                    if (a.p.datatype === "local")a.p.deselectAfterSort && b(a).jqGrid("resetSelection"); else {
                                        a.p.selrow = null;
                                        a.p.multiselect && ea(false);
                                        a.p.selarrrow = [];
                                        a.p.savedRow = []
                                    }
                                    if (a.p.scroll) {
                                        g =
                                            a.grid.bDiv.scrollLeft;
                                        W.call(a, true, false);
                                        a.grid.hDiv.scrollLeft = g
                                    }
                                    a.p.subGrid && a.p.datatype === "local" && b("td.sgexpanded", "#" + b.jgrid.jqID(a.p.id)).each(function () {
                                        b(this).trigger("click")
                                    });
                                    M();
                                    a.p.lastsort = d;
                                    if (a.p.sortname !== c && d)a.p.lastsort = d
                                }
                            }
                        }, ta = function (c) {
                            c = b(a.grid.headers[c].el);
                            c = [c.position().left + c.outerWidth()];
                            a.p.direction === "rtl" && (c[0] = a.p.width - c[0]);
                            c[0] = c[0] - a.grid.bDiv.scrollLeft;
                            c.push(b(a.grid.hDiv).position().top);
                            c.push(b(a.grid.bDiv).offset().top - b(a.grid.hDiv).offset().top +
                                b(a.grid.bDiv).height());
                            return c
                        }, na = function (c) {
                            var d, e = a.grid.headers, f = b.jgrid.getCellIndex(c);
                            for (d = 0; d < e.length; d++)if (c === e[d].el) {
                                f = d;
                                break
                            }
                            return f
                        };
                        this.p.id = this.id;
                        -1 === b.inArray(a.p.multikey, ["shiftKey", "altKey", "ctrlKey"]) && (a.p.multikey = !1);
                        a.p.keyIndex = !1;
                        a.p.keyName = !1;
                        for (f = 0; f < a.p.colModel.length; f++)a.p.colModel[f] = b.extend(!0, {}, a.p.cmTemplate, a.p.colModel[f].template || {}, a.p.colModel[f]), !1 === a.p.keyIndex && !0 === a.p.colModel[f].key && (a.p.keyIndex = f);
                        a.p.sortorder = a.p.sortorder.toLowerCase();
                        b.jgrid.cell_width = b.jgrid.cellWidth();
                        !0 === a.p.grouping && (a.p.scroll = !1, a.p.rownumbers = !1, a.p.treeGrid = !1, a.p.gridview = !0);
                        if (!0 === this.p.treeGrid) {
                            try {
                                b(this).jqGrid("setTreeGrid")
                            } catch (wa) {
                            }
                            "local" !== a.p.datatype && (a.p.localReader = {id: "_id_"})
                        }
                        if (this.p.subGrid)try {
                            b(a).jqGrid("setSubGrid")
                        } catch (xa) {
                        }
                        this.p.multiselect && (this.p.colNames.unshift("<input role='checkbox' id='cb_" + this.p.id + "' class='cbox' type='checkbox'/>"), this.p.colModel.unshift({name: "cb", width: b.jgrid.cell_width ? a.p.multiselectWidth +
                            a.p.cellLayout : a.p.multiselectWidth, sortable: !1, resizable: !1, hidedlg: !0, search: !1, align: "center", fixed: !0}));
                        this.p.rownumbers && (this.p.colNames.unshift(""), this.p.colModel.unshift({name: "rn", width: a.p.rownumWidth, sortable: !1, resizable: !1, hidedlg: !0, search: !1, align: "center", fixed: !0}));
                        a.p.xmlReader = b.extend(!0, {root: "rows", row: "row", page: "rows>page", total: "rows>total", records: "rows>records", repeatitems: !0, cell: "cell", id: "[id]", userdata: "userdata", subgrid: {root: "rows", row: "row", repeatitems: !0, cell: "cell"}},
                            a.p.xmlReader);
                        a.p.jsonReader = b.extend(!0, {root: "rows", page: "page", total: "total", records: "records", repeatitems: !0, cell: "cell", id: "id", userdata: "userdata", subgrid: {root: "rows", repeatitems: !0, cell: "cell"}}, a.p.jsonReader);
                        a.p.localReader = b.extend(!0, {root: "rows", page: "page", total: "total", records: "records", repeatitems: !1, cell: "cell", id: "id", userdata: "userdata", subgrid: {root: "rows", repeatitems: !0, cell: "cell"}}, a.p.localReader);
                        a.p.scroll && (a.p.pgbuttons = !1, a.p.pginput = !1, a.p.rowList = []);
                        a.p.data.length &&
                        P();
                        var x = "<thead><tr class='ui-jqgrid-labels' role='rowheader'>", oa, D, fa, ca, ga, w, o, X, pa = X = "", da = [], qa = [];
                        D = [];
                        if (!0 === a.p.shrinkToFit && !0 === a.p.forceFit)for (f = a.p.colModel.length - 1; 0 <= f; f--)if (!a.p.colModel[f].hidden) {
                            a.p.colModel[f].resizable = !1;
                            break
                        }
                        "horizontal" === a.p.viewsortcols[1] && (X = " ui-i-asc", pa = " ui-i-desc");
                        oa = k ? "class='ui-th-div-ie'" : "";
                        X = "<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc" + X + " ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-" +
                            g + "'></span>" + ("<span sort='desc' class='ui-grid-ico-sort ui-icon-desc" + pa + " ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-" + g + "'></span></span>");
                        if (a.p.multiSort) {
                            da = a.p.sortname.split(",");
                            for (f = 0; f < da.length; f++)D = b.trim(da[f]).split(" "), da[f] = b.trim(D[0]), qa[f] = D[1] ? b.trim(D[1]) : a.p.sortorder || "asc"
                        }
                        for (f = 0; f < this.p.colNames.length; f++)D = a.p.headertitles ? ' title="' + b.jgrid.stripHtml(a.p.colNames[f]) + '"' : "", x += "<th id='" + a.p.id + "_" + a.p.colModel[f].name + "' role='columnheader' class='ui-state-default ui-th-column ui-th-" +
                            g + "'" + D + ">", D = a.p.colModel[f].index || a.p.colModel[f].name, x += "<div id='jqgh_" + a.p.id + "_" + a.p.colModel[f].name + "' " + oa + ">" + a.p.colNames[f], a.p.colModel[f].width = a.p.colModel[f].width ? parseInt(a.p.colModel[f].width, 10) : 150, "boolean" !== typeof a.p.colModel[f].title && (a.p.colModel[f].title = !0), a.p.colModel[f].lso = "", D === a.p.sortname && (a.p.lastsort = f), a.p.multiSort && (D = b.inArray(D, da), -1 !== D && (a.p.colModel[f].lso = qa[D])), x += X + "</div></th>";
                        X = null;
                        b(this).append(x + "</tr></thead>");
                        b("thead tr:first th",
                            this).hover(function () {
                                b(this).addClass("ui-state-hover")
                            }, function () {
                                b(this).removeClass("ui-state-hover")
                            });
                        if (this.p.multiselect) {
                            var ha = [], Y;
                            b("#cb_" + b.jgrid.jqID(a.p.id), this).bind("click", function () {
                                a.p.selarrrow = [];
                                var c = a.p.frozenColumns === true ? a.p.id + "_frozen" : "";
                                if (this.checked) {
                                    b(a.rows).each(function (d) {
                                        if (d > 0 && !b(this).hasClass("ui-subgrid") && !b(this).hasClass("jqgroup") && !b(this).hasClass("ui-state-disabled")) {
                                            b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + b.jgrid.jqID(this.id))[a.p.useProp ? "prop" :
                                                "attr"]("checked", true);
                                            b(this).addClass("ui-state-highlight").attr("aria-selected", "true");
                                            a.p.selarrrow.push(this.id);
                                            a.p.selrow = this.id;
                                            if (c) {
                                                b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + b.jgrid.jqID(this.id), a.grid.fbDiv)[a.p.useProp ? "prop" : "attr"]("checked", true);
                                                b("#" + b.jgrid.jqID(this.id), a.grid.fbDiv).addClass("ui-state-highlight")
                                            }
                                        }
                                    });
                                    Y = true;
                                    ha = []
                                } else {
                                    b(a.rows).each(function (d) {
                                        if (d > 0 && !b(this).hasClass("ui-subgrid") && !b(this).hasClass("ui-state-disabled")) {
                                            b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + b.jgrid.jqID(this.id))[a.p.useProp ?
                                                "prop" : "attr"]("checked", false);
                                            b(this).removeClass("ui-state-highlight").attr("aria-selected", "false");
                                            ha.push(this.id);
                                            if (c) {
                                                b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + b.jgrid.jqID(this.id), a.grid.fbDiv)[a.p.useProp ? "prop" : "attr"]("checked", false);
                                                b("#" + b.jgrid.jqID(this.id), a.grid.fbDiv).removeClass("ui-state-highlight")
                                            }
                                        }
                                    });
                                    a.p.selrow = null;
                                    Y = false
                                }
                                b(a).triggerHandler("jqGridSelectAll", [Y ? a.p.selarrrow : ha, Y]);
                                b.isFunction(a.p.onSelectAll) && a.p.onSelectAll.call(a, Y ? a.p.selarrrow : ha, Y)
                            })
                        }
                        !0 === a.p.autowidth &&
                        (x = b(m).innerWidth(), a.p.width = 0 < x ? x : "nw");
                        (function () {
                            var d = 0, e = b.jgrid.cell_width ? 0 : n(a.p.cellLayout, 0), f = 0, g, h = n(a.p.scrollOffset, 0), j, k = false, m, l = 0, o;
                            b.each(a.p.colModel, function () {
                                if (this.hidden === void 0)this.hidden = false;
                                if (a.p.grouping && a.p.autowidth) {
                                    var c = b.inArray(this.name, a.p.groupingView.groupField);
                                    if (c >= 0 && a.p.groupingView.groupColumnShow.length > c)this.hidden = !a.p.groupingView.groupColumnShow[c]
                                }
                                this.widthOrg = j = n(this.width, 0);
                                if (this.hidden === false) {
                                    d = d + (j + e);
                                    this.fixed ? l = l + (j + e) :
                                        f++
                                }
                            });
                            if (isNaN(a.p.width))a.p.width = d + (a.p.shrinkToFit === false && !isNaN(a.p.height) ? h : 0);
                            c.width = a.p.width;
                            a.p.tblwidth = d;
                            if (a.p.shrinkToFit === false && a.p.forceFit === true)a.p.forceFit = false;
                            if (a.p.shrinkToFit === true && f > 0) {
                                m = c.width - e * f - l;
                                if (!isNaN(a.p.height)) {
                                    m = m - h;
                                    k = true
                                }
                                d = 0;
                                b.each(a.p.colModel, function (b) {
                                    if (this.hidden === false && !this.fixed) {
                                        this.width = j = Math.round(m * this.width / (a.p.tblwidth - e * f - l));
                                        d = d + j;
                                        g = b
                                    }
                                });
                                o = 0;
                                k ? c.width - l - (d + e * f) !== h && (o = c.width - l - (d + e * f) - h) : !k && Math.abs(c.width - l - (d + e * f)) !==
                                    1 && (o = c.width - l - (d + e * f));
                                a.p.colModel[g].width = a.p.colModel[g].width + o;
                                a.p.tblwidth = d + o + e * f + l;
                                if (a.p.tblwidth > a.p.width) {
                                    a.p.colModel[g].width = a.p.colModel[g].width - (a.p.tblwidth - parseInt(a.p.width, 10));
                                    a.p.tblwidth = a.p.width
                                }
                            }
                        })();
                        b(m).css("width", c.width + "px").append("<div class='ui-jqgrid-resize-mark' id='rs_m" + a.p.id + "'>&#160;</div>");
                        b(j).css("width", c.width + "px");
                        var x = b("thead:first", a).get(0), N = "";
                        a.p.footerrow && (N += "<table role='grid' style='width:" + a.p.tblwidth + "px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-" +
                            g + "'>");
                        var j = b("tr:first", x), aa = "<tr class='jqgfirstrow' role='row' style='height:auto'>";
                        a.p.disableClick = !1;
                        b("th", j).each(function (d) {
                            fa = a.p.colModel[d].width;
                            if (a.p.colModel[d].resizable === void 0)a.p.colModel[d].resizable = true;
                            if (a.p.colModel[d].resizable) {
                                ca = document.createElement("span");
                                b(ca).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-" + g).css("cursor", "col-resize");
                                b(this).addClass(a.p.resizeclass)
                            } else ca = "";
                            b(this).css("width", fa + "px").prepend(ca);
                            ca = null;
                            var e = "";
                            if (a.p.colModel[d].hidden) {
                                b(this).css("display",
                                    "none");
                                e = "display:none;"
                            }
                            aa = aa + ("<td role='gridcell' style='height:0px;width:" + fa + "px;" + e + "'></td>");
                            c.headers[d] = {width: fa, el: this};
                            ga = a.p.colModel[d].sortable;
                            if (typeof ga !== "boolean")ga = a.p.colModel[d].sortable = true;
                            e = a.p.colModel[d].name;
                            e === "cb" || e === "subgrid" || e === "rn" || a.p.viewsortcols[2] && b(">div", this).addClass("ui-jqgrid-sortable");
                            if (ga)if (a.p.multiSort)if (a.p.viewsortcols[0]) {
                                b("div span.s-ico", this).show();
                                a.p.colModel[d].lso && b("div span.ui-icon-" + a.p.colModel[d].lso, this).removeClass("ui-state-disabled")
                            } else {
                                if (a.p.colModel[d].lso) {
                                    b("div span.s-ico",
                                        this).show();
                                    b("div span.ui-icon-" + a.p.colModel[d].lso, this).removeClass("ui-state-disabled")
                                }
                            } else if (a.p.viewsortcols[0]) {
                                b("div span.s-ico", this).show();
                                d === a.p.lastsort && b("div span.ui-icon-" + a.p.sortorder, this).removeClass("ui-state-disabled")
                            } else if (d === a.p.lastsort) {
                                b("div span.s-ico", this).show();
                                b("div span.ui-icon-" + a.p.sortorder, this).removeClass("ui-state-disabled")
                            }
                            a.p.footerrow && (N = N + ("<td role='gridcell' " + l(d, 0, "", null, "", false) + ">&#160;</td>"))
                        }).mousedown(function (d) {
                                if (b(d.target).closest("th>span.ui-jqgrid-resize").length ===
                                    1) {
                                    var e = na(this);
                                    if (a.p.forceFit === true) {
                                        var f = a.p, g = e, h;
                                        for (h = e + 1; h < a.p.colModel.length; h++)if (a.p.colModel[h].hidden !== true) {
                                            g = h;
                                            break
                                        }
                                        f.nv = g - e
                                    }
                                    c.dragStart(e, d, ta(e));
                                    return false
                                }
                            }).click(function (c) {
                                if (a.p.disableClick)return a.p.disableClick = false;
                                var d = "th>div.ui-jqgrid-sortable", e, f;
                                a.p.viewsortcols[2] || (d = "th>div>span>span.ui-grid-ico-sort");
                                c = b(c.target).closest(d);
                                if (c.length === 1) {
                                    var g;
                                    if (a.p.frozenColumns) {
                                        var h = b(this)[0].id.substring(a.p.id.length + 1);
                                        b(a.p.colModel).each(function (a) {
                                            if (this.name ===
                                                h) {
                                                g = a;
                                                return false
                                            }
                                        })
                                    } else g = na(this);
                                    if (!a.p.viewsortcols[2]) {
                                        e = true;
                                        f = c.attr("sort")
                                    }
                                    g != null && ma(b("div", this)[0].id, g, e, f, this);
                                    return false
                                }
                            });
                        if (a.p.sortable && b.fn.sortable)try {
                            b(a).jqGrid("sortableColumns", j)
                        } catch (ya) {
                        }
                        a.p.footerrow && (N += "</tr></tbody></table>");
                        aa += "</tr>";
                        this.appendChild(document.createElement("tbody"));
                        b(this).addClass("ui-jqgrid-btable").append(aa);
                        var aa = null, j = b("<table class='ui-jqgrid-htable' style='width:" + a.p.tblwidth + "px' role='grid' aria-labelledby='gbox_" + this.id +
                            "' cellspacing='0' cellpadding='0' border='0'></table>").append(x), G = a.p.caption && !0 === a.p.hiddengrid ? !0 : !1;
                        f = b("<div class='ui-jqgrid-hbox" + ("rtl" === g ? "-rtl" : "") + "'></div>");
                        x = null;
                        c.hDiv = document.createElement("div");
                        b(c.hDiv).css({width: c.width + "px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(f);
                        b(f).append(j);
                        j = null;
                        G && b(c.hDiv).hide();
                        a.p.pager && ("string" === typeof a.p.pager ? "#" !== a.p.pager.substr(0, 1) && (a.p.pager = "#" + a.p.pager) : a.p.pager = "#" + b(a.p.pager).attr("id"), b(a.p.pager).css({width: c.width +
                            "px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(m), G && b(a.p.pager).hide(), la(a.p.pager, ""));
                        !1 === a.p.cellEdit && !0 === a.p.hoverrows && b(a).bind("mouseover",function (a) {
                            o = b(a.target).closest("tr.jqgrow");
                            b(o).attr("class") !== "ui-subgrid" && b(o).addClass("ui-state-hover")
                        }).bind("mouseout", function (a) {
                            o = b(a.target).closest("tr.jqgrow");
                            b(o).removeClass("ui-state-hover")
                        });
                        var z, K, ia;
                        b(a).before(c.hDiv).click(function (c) {
                            w = c.target;
                            o = b(w, a.rows).closest("tr.jqgrow");
                            if (b(o).length ===
                                0 || o[0].className.indexOf("ui-state-disabled") > -1 || (b(w, a).closest("table.ui-jqgrid-btable").attr("id") || "").replace("_frozen", "") !== a.id)return this;
                            var d = b(w).hasClass("cbox"), e = b(a).triggerHandler("jqGridBeforeSelectRow", [o[0].id, c]);
                            (e = e === false || e === "stop" ? false : true) && b.isFunction(a.p.beforeSelectRow) && (e = a.p.beforeSelectRow.call(a, o[0].id, c));
                            if (!(w.tagName === "A" || (w.tagName === "INPUT" || w.tagName === "TEXTAREA" || w.tagName === "OPTION" || w.tagName === "SELECT") && !d) && e === true) {
                                z = o[0].id;
                                K = b.jgrid.getCellIndex(w);
                                ia = b(w).closest("td,th").html();
                                b(a).triggerHandler("jqGridCellSelect", [z, K, ia, c]);
                                b.isFunction(a.p.onCellSelect) && a.p.onCellSelect.call(a, z, K, ia, c);
                                if (a.p.cellEdit === true)if (a.p.multiselect && d)b(a).jqGrid("setSelection", z, true, c); else {
                                    z = o[0].rowIndex;
                                    try {
                                        b(a).jqGrid("editCell", z, K, true)
                                    } catch (f) {
                                    }
                                } else if (a.p.multikey)if (c[a.p.multikey])b(a).jqGrid("setSelection", z, true, c); else {
                                    if (a.p.multiselect && d) {
                                        d = b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + z).is(":checked");
                                        b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + z)[a.p.useProp ?
                                            "prop" : "attr"]("checked", d)
                                    }
                                } else {
                                    if (a.p.multiselect && a.p.multiboxonly && !d) {
                                        var g = a.p.frozenColumns ? a.p.id + "_frozen" : "";
                                        b(a.p.selarrrow).each(function (c, d) {
                                            var e = b(a).jqGrid("getGridRowById", d);
                                            b(e).removeClass("ui-state-highlight");
                                            b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + b.jgrid.jqID(d))[a.p.useProp ? "prop" : "attr"]("checked", false);
                                            if (g) {
                                                b("#" + b.jgrid.jqID(d), "#" + b.jgrid.jqID(g)).removeClass("ui-state-highlight");
                                                b("#jqg_" + b.jgrid.jqID(a.p.id) + "_" + b.jgrid.jqID(d), "#" + b.jgrid.jqID(g))[a.p.useProp ? "prop" :
                                                    "attr"]("checked", false)
                                            }
                                        });
                                        a.p.selarrrow = []
                                    }
                                    b(a).jqGrid("setSelection", z, true, c)
                                }
                            }
                        }).bind("reloadGrid",function (c, d) {
                                if (a.p.treeGrid === true)a.p.datatype = a.p.treedatatype;
                                d && d.current && a.grid.selectionPreserver(a);
                                if (a.p.datatype === "local") {
                                    b(a).jqGrid("resetSelection");
                                    a.p.data.length && P()
                                } else if (!a.p.treeGrid) {
                                    a.p.selrow = null;
                                    if (a.p.multiselect) {
                                        a.p.selarrrow = [];
                                        ea(false)
                                    }
                                    a.p.savedRow = []
                                }
                                a.p.scroll && W.call(a, true, false);
                                if (d && d.page) {
                                    var e = d.page;
                                    if (e > a.p.lastpage)e = a.p.lastpage;
                                    e < 1 && (e = 1);
                                    a.p.page =
                                        e;
                                    a.grid.bDiv.scrollTop = a.grid.prevRowHeight ? (e - 1) * a.grid.prevRowHeight * a.p.rowNum : 0
                                }
                                if (a.grid.prevRowHeight && a.p.scroll) {
                                    delete a.p.lastpage;
                                    a.grid.populateVisible()
                                } else a.grid.populate();
                                a.p._inlinenav === true && b(a).jqGrid("showAddEditButtons");
                                return false
                            }).dblclick(function (c) {
                                w = c.target;
                                o = b(w, a.rows).closest("tr.jqgrow");
                                if (b(o).length !== 0) {
                                    z = o[0].rowIndex;
                                    K = b.jgrid.getCellIndex(w);
                                    b(a).triggerHandler("jqGridDblClickRow", [b(o).attr("id"), z, K, c]);
                                    b.isFunction(a.p.ondblClickRow) && a.p.ondblClickRow.call(a,
                                        b(o).attr("id"), z, K, c)
                                }
                            }).bind("contextmenu", function (c) {
                                w = c.target;
                                o = b(w, a.rows).closest("tr.jqgrow");
                                if (b(o).length !== 0) {
                                    a.p.multiselect || b(a).jqGrid("setSelection", o[0].id, true, c);
                                    z = o[0].rowIndex;
                                    K = b.jgrid.getCellIndex(w);
                                    b(a).triggerHandler("jqGridRightClickRow", [b(o).attr("id"), z, K, c]);
                                    b.isFunction(a.p.onRightClickRow) && a.p.onRightClickRow.call(a, b(o).attr("id"), z, K, c)
                                }
                            });
                        c.bDiv = document.createElement("div");
                        k && "auto" === ("" + a.p.height).toLowerCase() && (a.p.height = "100%");
                        b(c.bDiv).append(b('<div style="position:relative;' +
                            (k && 8 > b.jgrid.msiever() ? "height:0.01%;" : "") + '"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height: a.p.height + (isNaN(a.p.height) ? "" : "px"), width: c.width + "px"}).scroll(c.scrollGrid);
                        b("table:first", c.bDiv).css({width: a.p.tblwidth + "px"});
                        b.support.tbody || 2 === b("tbody", this).length && b("tbody:gt(0)", this).remove();
                        a.p.multikey && (b.jgrid.msie ? b(c.bDiv).bind("selectstart", function () {
                            return false
                        }) : b(c.bDiv).bind("mousedown", function () {
                            return false
                        }));
                        G && b(c.bDiv).hide();
                        c.cDiv =
                            document.createElement("div");
                        var ja = !0 === a.p.hidegrid ? b("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton' />").hover(function () {
                            ja.addClass("ui-state-hover")
                        },function () {
                            ja.removeClass("ui-state-hover")
                        }).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl" === g ? "left" : "right", "0px") : "";
                        b(c.cDiv).append(ja).append("<span class='ui-jqgrid-title" + ("rtl" === g ? "-rtl" : "") + "'>" + a.p.caption + "</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");
                        b(c.cDiv).insertBefore(c.hDiv);
                        a.p.toolbar[0] && (c.uDiv = document.createElement("div"), "top" === a.p.toolbar[1] ? b(c.uDiv).insertBefore(c.hDiv) : "bottom" === a.p.toolbar[1] && b(c.uDiv).insertAfter(c.hDiv), "both" === a.p.toolbar[1] ? (c.ubDiv = document.createElement("div"), b(c.uDiv).addClass("ui-userdata ui-state-default").attr("id", "t_" + this.id).insertBefore(c.hDiv), b(c.ubDiv).addClass("ui-userdata ui-state-default").attr("id", "tb_" + this.id).insertAfter(c.hDiv), G && b(c.ubDiv).hide()) : b(c.uDiv).width(c.width).addClass("ui-userdata ui-state-default").attr("id",
                            "t_" + this.id), G && b(c.uDiv).hide());
                        a.p.toppager && (a.p.toppager = b.jgrid.jqID(a.p.id) + "_toppager", c.topDiv = b("<div id='" + a.p.toppager + "'></div>")[0], a.p.toppager = "#" + a.p.toppager, b(c.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(c.width).insertBefore(c.hDiv), la(a.p.toppager, "_t"));
                        a.p.footerrow && (c.sDiv = b("<div class='ui-jqgrid-sdiv'></div>")[0], f = b("<div class='ui-jqgrid-hbox" + ("rtl" === g ? "-rtl" : "") + "'></div>"), b(c.sDiv).append(f).width(c.width).insertAfter(c.hDiv), b(f).append(N), c.footers =
                            b(".ui-jqgrid-ftable", c.sDiv)[0].rows[0].cells, a.p.rownumbers && (c.footers[0].className = "ui-state-default jqgrid-rownum"), G && b(c.sDiv).hide());
                        f = null;
                        if (a.p.caption) {
                            var ua = a.p.datatype;
                            !0 === a.p.hidegrid && (b(".ui-jqgrid-titlebar-close", c.cDiv).click(function (d) {
                                var e = b.isFunction(a.p.onHeaderClick), f = ".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv", g, h = this;
                                if (a.p.toolbar[0] === true) {
                                    a.p.toolbar[1] === "both" && (f = f + (", #" + b(c.ubDiv).attr("id")));
                                    f = f + (", #" + b(c.uDiv).attr("id"))
                                }
                                g =
                                    b(f, "#gview_" + b.jgrid.jqID(a.p.id)).length;
                                a.p.gridstate === "visible" ? b(f, "#gbox_" + b.jgrid.jqID(a.p.id)).slideUp("fast", function () {
                                    g--;
                                    if (g === 0) {
                                        b("span", h).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");
                                        a.p.gridstate = "hidden";
                                        b("#gbox_" + b.jgrid.jqID(a.p.id)).hasClass("ui-resizable") && b(".ui-resizable-handle", "#gbox_" + b.jgrid.jqID(a.p.id)).hide();
                                        b(a).triggerHandler("jqGridHeaderClick", [a.p.gridstate, d]);
                                        e && (G || a.p.onHeaderClick.call(a, a.p.gridstate, d))
                                    }
                                }) : a.p.gridstate ===
                                    "hidden" && b(f, "#gbox_" + b.jgrid.jqID(a.p.id)).slideDown("fast", function () {
                                    g--;
                                    if (g === 0) {
                                        b("span", h).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");
                                        if (G) {
                                            a.p.datatype = ua;
                                            M();
                                            G = false
                                        }
                                        a.p.gridstate = "visible";
                                        b("#gbox_" + b.jgrid.jqID(a.p.id)).hasClass("ui-resizable") && b(".ui-resizable-handle", "#gbox_" + b.jgrid.jqID(a.p.id)).show();
                                        b(a).triggerHandler("jqGridHeaderClick", [a.p.gridstate, d]);
                                        e && (G || a.p.onHeaderClick.call(a, a.p.gridstate, d))
                                    }
                                });
                                return false
                            }), G && (a.p.datatype =
                                "local", b(".ui-jqgrid-titlebar-close", c.cDiv).trigger("click")))
                        } else b(c.cDiv).hide();
                        b(c.hDiv).after(c.bDiv).mousemove(function (a) {
                            if (c.resizing) {
                                c.dragMove(a);
                                return false
                            }
                        });
                        b(".ui-jqgrid-labels", c.hDiv).bind("selectstart", function () {
                            return false
                        });
                        b(document).bind("mouseup.jqGrid" + a.p.id, function () {
                            if (c.resizing) {
                                c.dragEnd();
                                return false
                            }
                            return true
                        });
                        a.formatCol = l;
                        a.sortData = ma;
                        a.updatepager = function (c, d) {
                            var e, f, g, h, i, j, k, m = "", l = a.p.pager ? "_" + b.jgrid.jqID(a.p.pager.substr(1)) : "", o = a.p.toppager ?
                                "_" + a.p.toppager.substr(1) : "";
                            g = parseInt(a.p.page, 10) - 1;
                            g < 0 && (g = 0);
                            g = g * parseInt(a.p.rowNum, 10);
                            i = g + a.p.reccount;
                            if (a.p.scroll) {
                                e = b("tbody:first > tr:gt(0)", a.grid.bDiv);
                                g = i - e.length;
                                a.p.reccount = e.length;
                                if (e = e.outerHeight() || a.grid.prevRowHeight) {
                                    f = g * e;
                                    k = parseInt(a.p.records, 10) * e;
                                    b(">div:first", a.grid.bDiv).css({height: k}).children("div:first").css({height: f, display: f ? "" : "none"});
                                    if (a.grid.bDiv.scrollTop == 0 && a.p.page > 1)a.grid.bDiv.scrollTop = a.p.rowNum * (a.p.page - 1) * e
                                }
                                a.grid.bDiv.scrollLeft = a.grid.hDiv.scrollLeft
                            }
                            m =
                                a.p.pager || "";
                            if (m = m + (a.p.toppager ? m ? "," + a.p.toppager : a.p.toppager : "")) {
                                k = b.jgrid.formatter.integer || {};
                                e = n(a.p.page);
                                f = n(a.p.lastpage);
                                b(".selbox", m)[this.p.useProp ? "prop" : "attr"]("disabled", false);
                                if (a.p.pginput === true) {
                                    b(".ui-pg-input", m).val(a.p.page);
                                    h = a.p.toppager ? "#sp_1" + l + ",#sp_1" + o : "#sp_1" + l;
                                    b(h).html(b.fmatter ? b.fmatter.util.NumberFormat(a.p.lastpage, k) : a.p.lastpage)
                                }
                                if (a.p.viewrecords)if (a.p.reccount === 0)b(".ui-paging-info", m).html(a.p.emptyrecords); else {
                                    h = g + 1;
                                    j = a.p.records;
                                    if (b.fmatter) {
                                        h =
                                            b.fmatter.util.NumberFormat(h, k);
                                        i = b.fmatter.util.NumberFormat(i, k);
                                        j = b.fmatter.util.NumberFormat(j, k)
                                    }
                                    b(".ui-paging-info", m).html(b.jgrid.format(a.p.recordtext, h, i, j))
                                }
                                if (a.p.pgbuttons === true) {
                                    e <= 0 && (e = f = 0);
                                    if (e === 1 || e === 0) {
                                        b("#first" + l + ", #prev" + l).addClass("ui-state-disabled").removeClass("ui-state-hover");
                                        a.p.toppager && b("#first_t" + o + ", #prev_t" + o).addClass("ui-state-disabled").removeClass("ui-state-hover")
                                    } else {
                                        b("#first" + l + ", #prev" + l).removeClass("ui-state-disabled");
                                        a.p.toppager && b("#first_t" +
                                            o + ", #prev_t" + o).removeClass("ui-state-disabled")
                                    }
                                    if (e === f || e === 0) {
                                        b("#next" + l + ", #last" + l).addClass("ui-state-disabled").removeClass("ui-state-hover");
                                        a.p.toppager && b("#next_t" + o + ", #last_t" + o).addClass("ui-state-disabled").removeClass("ui-state-hover")
                                    } else {
                                        b("#next" + l + ", #last" + l).removeClass("ui-state-disabled");
                                        a.p.toppager && b("#next_t" + o + ", #last_t" + o).removeClass("ui-state-disabled")
                                    }
                                }
                            }
                            c === true && a.p.rownumbers === true && b(">td.jqgrid-rownum", a.rows).each(function (a) {
                                b(this).html(g + 1 + a)
                            });
                            d &&
                                a.p.jqgdnd && b(a).jqGrid("gridDnD", "updateDnD");
                            b(a).triggerHandler("jqGridGridComplete");
                            b.isFunction(a.p.gridComplete) && a.p.gridComplete.call(a);
                            b(a).triggerHandler("jqGridAfterGridComplete")
                        };
                        a.refreshIndex = P;
                        a.setHeadCheckBox = ea;
                        a.constructTr = Z;
                        a.formatter = function (a, b, c, d, e) {
                            return u(a, b, c, d, e)
                        };
                        b.extend(c, {populate: M, emptyRows: W, beginReq: S, endReq: Q});
                        this.grid = c;
                        a.addXmlData = function (b) {
                            H(b, a.grid.bDiv)
                        };
                        a.addJSONData = function (b) {
                            U(b, a.grid.bDiv)
                        };
                        this.grid.cols = this.rows[0].cells;
                        b(a).triggerHandler("jqGridInitGrid");
                        b.isFunction(a.p.onInitGrid) && a.p.onInitGrid.call(a);
                        M();
                        a.p.hiddengrid = !1
                    }
                }
            }
        })
    };
    b.jgrid.extend({getGridParam: function (b) {
        var g = this[0];
        return!g || !g.grid ? void 0 : !b ? g.p : void 0 !== g.p[b] ? g.p[b] : null
    }, setGridParam: function (d) {
        return this.each(function () {
            this.grid && "object" === typeof d && b.extend(!0, this.p, d)
        })
    }, getGridRowById: function (d) {
        var g;
        this.each(function () {
            try {
                g = this.rows.namedItem(d)
            } catch (c) {
                g = b(this.grid.bDiv).find("#" + b.jgrid.jqID(d))
            }
        });
        return g
    }, getDataIDs: function () {
        var d = [], g = 0, c, e = 0;
        this.each(function () {
            if ((c =
                this.rows.length) && 0 < c)for (; g < c;)b(this.rows[g]).hasClass("jqgrow") && (d[e] = this.rows[g].id, e++), g++
        });
        return d
    }, setSelection: function (d, g, c) {
        return this.each(function () {
            var e, a, i, f, h, j;
            if (void 0 !== d && (g = !1 === g ? !1 : !0, (a = b(this).jqGrid("getGridRowById", d)) && a.className && !(-1 < a.className.indexOf("ui-state-disabled"))))if (!0 === this.p.scrollrows && (i = b(this).jqGrid("getGridRowById", d).rowIndex, 0 <= i && (e = b(this.grid.bDiv)[0].clientHeight, f = b(this.grid.bDiv)[0].scrollTop, h = b(this.rows[i]).position().top, i =
                this.rows[i].clientHeight, h + i >= e + f ? b(this.grid.bDiv)[0].scrollTop = h - (e + f) + i + f : h < e + f && h < f && (b(this.grid.bDiv)[0].scrollTop = h))), !0 === this.p.frozenColumns && (j = this.p.id + "_frozen"), this.p.multiselect) {
                if (this.setHeadCheckBox(!1), this.p.selrow = a.id, f = b.inArray(this.p.selrow, this.p.selarrrow), -1 === f ? ("ui-subgrid" !== a.className && b(a).addClass("ui-state-highlight").attr("aria-selected", "true"), e = !0, this.p.selarrrow.push(this.p.selrow)) : ("ui-subgrid" !== a.className && b(a).removeClass("ui-state-highlight").attr("aria-selected",
                    "false"), e = !1, this.p.selarrrow.splice(f, 1), h = this.p.selarrrow[0], this.p.selrow = void 0 === h ? null : h), b("#jqg_" + b.jgrid.jqID(this.p.id) + "_" + b.jgrid.jqID(a.id))[this.p.useProp ? "prop" : "attr"]("checked", e), j && (-1 === f ? b("#" + b.jgrid.jqID(d), "#" + b.jgrid.jqID(j)).addClass("ui-state-highlight") : b("#" + b.jgrid.jqID(d), "#" + b.jgrid.jqID(j)).removeClass("ui-state-highlight"), b("#jqg_" + b.jgrid.jqID(this.p.id) + "_" + b.jgrid.jqID(d), "#" + b.jgrid.jqID(j))[this.p.useProp ? "prop" : "attr"]("checked", e)), g)b(this).triggerHandler("jqGridSelectRow",
                    [a.id, e, c]), this.p.onSelectRow && this.p.onSelectRow.call(this, a.id, e, c)
            } else if ("ui-subgrid" !== a.className && (this.p.selrow !== a.id ? (b(b(this).jqGrid("getGridRowById", this.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected": "false", tabindex: "-1"}), b(a).addClass("ui-state-highlight").attr({"aria-selected": "true", tabindex: "0"}), j && (b("#" + b.jgrid.jqID(this.p.selrow), "#" + b.jgrid.jqID(j)).removeClass("ui-state-highlight"), b("#" + b.jgrid.jqID(d), "#" + b.jgrid.jqID(j)).addClass("ui-state-highlight")),
                e = !0) : e = !1, this.p.selrow = a.id, g))b(this).triggerHandler("jqGridSelectRow", [a.id, e, c]), this.p.onSelectRow && this.p.onSelectRow.call(this, a.id, e, c)
        })
    }, resetSelection: function (d) {
        return this.each(function () {
            var g = this, c, e;
            !0 === g.p.frozenColumns && (e = g.p.id + "_frozen");
            if (void 0 !== d) {
                c = d === g.p.selrow ? g.p.selrow : d;
                b("#" + b.jgrid.jqID(g.p.id) + " tbody:first tr#" + b.jgrid.jqID(c)).removeClass("ui-state-highlight").attr("aria-selected", "false");
                e && b("#" + b.jgrid.jqID(c), "#" + b.jgrid.jqID(e)).removeClass("ui-state-highlight");
                if (g.p.multiselect) {
                    b("#jqg_" + b.jgrid.jqID(g.p.id) + "_" + b.jgrid.jqID(c), "#" + b.jgrid.jqID(g.p.id))[g.p.useProp ? "prop" : "attr"]("checked", !1);
                    if (e)b("#jqg_" + b.jgrid.jqID(g.p.id) + "_" + b.jgrid.jqID(c), "#" + b.jgrid.jqID(e))[g.p.useProp ? "prop" : "attr"]("checked", !1);
                    g.setHeadCheckBox(!1)
                }
                c = null
            } else g.p.multiselect ? (b(g.p.selarrrow).each(function (a, c) {
                b(b(g).jqGrid("getGridRowById", c)).removeClass("ui-state-highlight").attr("aria-selected", "false");
                b("#jqg_" + b.jgrid.jqID(g.p.id) + "_" + b.jgrid.jqID(c))[g.p.useProp ?
                    "prop" : "attr"]("checked", !1);
                e && (b("#" + b.jgrid.jqID(c), "#" + b.jgrid.jqID(e)).removeClass("ui-state-highlight"), b("#jqg_" + b.jgrid.jqID(g.p.id) + "_" + b.jgrid.jqID(c), "#" + b.jgrid.jqID(e))[g.p.useProp ? "prop" : "attr"]("checked", !1))
            }), g.setHeadCheckBox(!1), g.p.selarrrow = []) : g.p.selrow && (b("#" + b.jgrid.jqID(g.p.id) + " tbody:first tr#" + b.jgrid.jqID(g.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected", "false"), e && b("#" + b.jgrid.jqID(g.p.selrow), "#" + b.jgrid.jqID(e)).removeClass("ui-state-highlight"),
                g.p.selrow = null);
            !0 === g.p.cellEdit && 0 <= parseInt(g.p.iCol, 10) && 0 <= parseInt(g.p.iRow, 10) && (b("td:eq(" + g.p.iCol + ")", g.rows[g.p.iRow]).removeClass("edit-cell ui-state-highlight"), b(g.rows[g.p.iRow]).removeClass("selected-row ui-state-hover"));
            g.p.savedRow = []
        })
    }, getRowData: function (d) {
        var g = {}, c, e = !1, a, i = 0;
        this.each(function () {
            var f = this, h, j;
            if (void 0 === d)e = !0, c = [], a = f.rows.length; else {
                j = b(f).jqGrid("getGridRowById", d);
                if (!j)return g;
                a = 2
            }
            for (; i < a;)e && (j = f.rows[i]), b(j).hasClass("jqgrow") && (b('td[role="gridcell"]',
                j).each(function (a) {
                    h = f.p.colModel[a].name;
                    if ("cb" !== h && "subgrid" !== h && "rn" !== h)if (!0 === f.p.treeGrid && h === f.p.ExpandColumn)g[h] = b.jgrid.htmlDecode(b("span:first", this).html()); else try {
                        g[h] = b.unformat.call(f, this, {rowId: j.id, colModel: f.p.colModel[a]}, a)
                    } catch (c) {
                        g[h] = b.jgrid.htmlDecode(b(this).html())
                    }
                }), e && (c.push(g), g = {})), i++
        });
        return c || g
    }, delRowData: function (d) {
        var g = !1, c, e;
        this.each(function () {
            c = b(this).jqGrid("getGridRowById", d);
            if (!c)return!1;
            b(c).remove();
            this.p.records--;
            this.p.reccount--;
            this.updatepager(!0, !1);
            g = !0;
            this.p.multiselect && (e = b.inArray(d, this.p.selarrrow), -1 !== e && this.p.selarrrow.splice(e, 1));
            this.p.selrow = this.p.multiselect && 0 < this.p.selarrrow.length ? this.p.selarrrow[this.p.selarrrow.length - 1] : null;
            if ("local" === this.p.datatype) {
                var a = this.p._index[b.jgrid.stripPref(this.p.idPrefix, d)];
                void 0 !== a && (this.p.data.splice(a, 1), this.refreshIndex())
            }
            if (!0 === this.p.altRows && g) {
                var i = this.p.altclass;
                b(this.rows).each(function (a) {
                    a % 2 === 1 ? b(this).addClass(i) : b(this).removeClass(i)
                })
            }
        });
        return g
    }, setRowData: function (d, g, c) {
        var e, a = !0, i;
        this.each(function () {
            if (!this.grid)return!1;
            var f = this, h, j, k = typeof c, m = {};
            j = b(this).jqGrid("getGridRowById", d);
            if (!j)return!1;
            if (g)try {
                if (b(this.p.colModel).each(function (a) {
                    e = this.name;
                    var c = b.jgrid.getAccessor(g, e);
                    void 0 !== c && (m[e] = this.formatter && "string" === typeof this.formatter && "date" === this.formatter ? b.unformat.date.call(f, c, this) : c, h = f.formatter(d, c, a, g, "edit"), i = this.title ? {title: b.jgrid.stripHtml(h)} : {}, !0 === f.p.treeGrid && e === f.p.ExpandColumn ?
                        b("td[role='gridcell']:eq(" + a + ") > span:first", j).html(h).attr(i) : b("td[role='gridcell']:eq(" + a + ")", j).html(h).attr(i))
                }), "local" === f.p.datatype) {
                    var n = b.jgrid.stripPref(f.p.idPrefix, d), l = f.p._index[n], r;
                    if (f.p.treeGrid)for (r in f.p.treeReader)f.p.treeReader.hasOwnProperty(r) && delete m[f.p.treeReader[r]];
                    void 0 !== l && (f.p.data[l] = b.extend(!0, f.p.data[l], m));
                    m = null
                }
            } catch (u) {
                a = !1
            }
            a && ("string" === k ? b(j).addClass(c) : "object" === k && b(j).css(c), b(f).triggerHandler("jqGridAfterGridComplete"))
        });
        return a
    },
        addRowData: function (d, g, c, e) {
            c || (c = "last");
            var a = !1, i, f, h, j, k, m, n, l, r = "", u, E, T, L, ba, V;
            g && (b.isArray(g) ? (u = !0, c = "last", E = d) : (g = [g], u = !1), this.each(function () {
                var W = g.length;
                k = this.p.rownumbers === true ? 1 : 0;
                h = this.p.multiselect === true ? 1 : 0;
                j = this.p.subGrid === true ? 1 : 0;
                if (!u)if (d !== void 0)d = "" + d; else {
                    d = b.jgrid.randId();
                    if (this.p.keyIndex !== false) {
                        E = this.p.colModel[this.p.keyIndex + h + j + k].name;
                        g[0][E] !== void 0 && (d = g[0][E])
                    }
                }
                T = this.p.altclass;
                for (var P = 0, Z = "", H = {}, U = b.isFunction(this.p.afterInsertRow) ? true :
                    false; P < W;) {
                    L = g[P];
                    f = [];
                    if (u) {
                        try {
                            d = L[E];
                            d === void 0 && (d = b.jgrid.randId())
                        } catch (ka) {
                            d = b.jgrid.randId()
                        }
                        Z = this.p.altRows === true ? (this.rows.length - 1) % 2 === 0 ? T : "" : ""
                    }
                    V = d;
                    d = this.p.idPrefix + d;
                    if (k) {
                        r = this.formatCol(0, 1, "", null, d, true);
                        f[f.length] = '<td role="gridcell" class="ui-state-default jqgrid-rownum" ' + r + ">0</td>"
                    }
                    if (h) {
                        l = '<input role="checkbox" type="checkbox" id="jqg_' + this.p.id + "_" + d + '" class="cbox"/>';
                        r = this.formatCol(k, 1, "", null, d, true);
                        f[f.length] = '<td role="gridcell" ' + r + ">" + l + "</td>"
                    }
                    j && (f[f.length] =
                        b(this).jqGrid("addSubGridCell", h + k, 1));
                    for (n = h + j + k; n < this.p.colModel.length; n++) {
                        ba = this.p.colModel[n];
                        i = ba.name;
                        H[i] = L[i];
                        l = this.formatter(d, b.jgrid.getAccessor(L, i), n, L);
                        r = this.formatCol(n, 1, l, L, d, H);
                        f[f.length] = '<td role="gridcell" ' + r + ">" + l + "</td>"
                    }
                    f.unshift(this.constructTr(d, false, Z, H, L, false));
                    f[f.length] = "</tr>";
                    if (this.rows.length === 0)b("table:first", this.grid.bDiv).append(f.join("")); else switch (c) {
                        case "last":
                            b(this.rows[this.rows.length - 1]).after(f.join(""));
                            m = this.rows.length - 1;
                            break;
                        case "first":
                            b(this.rows[0]).after(f.join(""));
                            m = 1;
                            break;
                        case "after":
                            if (m = b(this).jqGrid("getGridRowById", e)) {
                                b(this.rows[m.rowIndex + 1]).hasClass("ui-subgrid") ? b(this.rows[m.rowIndex + 1]).after(f) : b(m).after(f.join(""));
                                m = m.rowIndex + 1
                            }
                            break;
                        case "before":
                            if (m = b(this).jqGrid("getGridRowById", e)) {
                                b(m).before(f.join(""));
                                m = m.rowIndex - 1
                            }
                    }
                    this.p.subGrid === true && b(this).jqGrid("addSubGrid", h + k, m);
                    this.p.records++;
                    this.p.reccount++;
                    b(this).triggerHandler("jqGridAfterInsertRow", [d, L, L]);
                    U && this.p.afterInsertRow.call(this,
                        d, L, L);
                    P++;
                    if (this.p.datatype === "local") {
                        H[this.p.localReader.id] = V;
                        this.p._index[V] = this.p.data.length;
                        this.p.data.push(H);
                        H = {}
                    }
                }
                this.p.altRows === true && !u && (c === "last" ? (this.rows.length - 1) % 2 === 1 && b(this.rows[this.rows.length - 1]).addClass(T) : b(this.rows).each(function (a) {
                    a % 2 === 1 ? b(this).addClass(T) : b(this).removeClass(T)
                }));
                this.updatepager(true, true);
                a = true
            }));
            return a
        }, footerData: function (d, g, c) {
            function e(a) {
                for (var b in a)if (a.hasOwnProperty(b))return!1;
                return!0
            }

            var a, i = !1, f = {}, h;
            void 0 === d &&
            (d = "get");
            "boolean" !== typeof c && (c = !0);
            d = d.toLowerCase();
            this.each(function () {
                var j = this, k;
                if (!j.grid || !j.p.footerrow || "set" === d && e(g))return!1;
                i = !0;
                b(this.p.colModel).each(function (e) {
                    a = this.name;
                    "set" === d ? void 0 !== g[a] && (k = c ? j.formatter("", g[a], e, g, "edit") : g[a], h = this.title ? {title: b.jgrid.stripHtml(k)} : {}, b("tr.footrow td:eq(" + e + ")", j.grid.sDiv).html(k).attr(h), i = !0) : "get" === d && (f[a] = b("tr.footrow td:eq(" + e + ")", j.grid.sDiv).html())
                })
            });
            return"get" === d ? f : i
        }, showHideCol: function (d, g) {
            return this.each(function () {
                var c =
                    this, e = !1, a = b.jgrid.cell_width ? 0 : c.p.cellLayout, i;
                if (c.grid) {
                    "string" === typeof d && (d = [d]);
                    g = "none" !== g ? "" : "none";
                    var f = "" === g ? !0 : !1, h = c.p.groupHeader && ("object" === typeof c.p.groupHeader || b.isFunction(c.p.groupHeader));
                    h && b(c).jqGrid("destroyGroupHeader", !1);
                    b(this.p.colModel).each(function (h) {
                        if (-1 !== b.inArray(this.name, d) && this.hidden === f) {
                            if (!0 === c.p.frozenColumns && !0 === this.frozen)return!0;
                            b("tr[role=rowheader]", c.grid.hDiv).each(function () {
                                b(this.cells[h]).css("display", g)
                            });
                            b(c.rows).each(function () {
                                b(this).hasClass("jqgroup") ||
                                b(this.cells[h]).css("display", g)
                            });
                            c.p.footerrow && b("tr.footrow td:eq(" + h + ")", c.grid.sDiv).css("display", g);
                            i = parseInt(this.width, 10);
                            c.p.tblwidth = "none" === g ? c.p.tblwidth - (i + a) : c.p.tblwidth + (i + a);
                            this.hidden = !f;
                            e = !0;
                            b(c).triggerHandler("jqGridShowHideCol", [f, this.name, h])
                        }
                    });
                    !0 === e && (!0 === c.p.shrinkToFit && !isNaN(c.p.height) && (c.p.tblwidth += parseInt(c.p.scrollOffset, 10)), b(c).jqGrid("setGridWidth", !0 === c.p.shrinkToFit ? c.p.tblwidth : c.p.width));
                    h && b(c).jqGrid("setGroupHeaders", c.p.groupHeader)
                }
            })
        },
        hideCol: function (d) {
            return this.each(function () {
                b(this).jqGrid("showHideCol", d, "none")
            })
        }, showCol: function (d) {
            return this.each(function () {
                b(this).jqGrid("showHideCol", d, "")
            })
        }, remapColumns: function (d, g, c) {
            function e(a) {
                var c;
                c = a.length ? b.makeArray(a) : b.extend({}, a);
                b.each(d, function (b) {
                    a[b] = c[this]
                })
            }

            function a(a, c) {
                b(">tr" + (c || ""), a).each(function () {
                    var a = this, c = b.makeArray(a.cells);
                    b.each(d, function () {
                        var b = c[this];
                        b && a.appendChild(b)
                    })
                })
            }

            var i = this.get(0);
            e(i.p.colModel);
            e(i.p.colNames);
            e(i.grid.headers);
            a(b("thead:first", i.grid.hDiv), c && ":not(.ui-jqgrid-labels)");
            g && a(b("#" + b.jgrid.jqID(i.p.id) + " tbody:first"), ".jqgfirstrow, tr.jqgrow, tr.jqfoot");
            i.p.footerrow && a(b("tbody:first", i.grid.sDiv));
            i.p.remapColumns && (i.p.remapColumns.length ? e(i.p.remapColumns) : i.p.remapColumns = b.makeArray(d));
            i.p.lastsort = b.inArray(i.p.lastsort, d);
            i.p.treeGrid && (i.p.expColInd = b.inArray(i.p.expColInd, d));
            b(i).triggerHandler("jqGridRemapColumns", [d, g, c])
        }, setGridWidth: function (d, g) {
            return this.each(function () {
                if (this.grid) {
                    var c =
                        this, e, a = 0, i = b.jgrid.cell_width ? 0 : c.p.cellLayout, f, h = 0, j = !1, k = c.p.scrollOffset, m, n = 0, l;
                    "boolean" !== typeof g && (g = c.p.shrinkToFit);
                    if (!isNaN(d)) {
                        d = parseInt(d, 10);
                        c.grid.width = c.p.width = d;
                        b("#gbox_" + b.jgrid.jqID(c.p.id)).css("width", d + "px");
                        b("#gview_" + b.jgrid.jqID(c.p.id)).css("width", d + "px");
                        b(c.grid.bDiv).css("width", d + "px");
                        b(c.grid.hDiv).css("width", d + "px");
                        c.p.pager && b(c.p.pager).css("width", d + "px");
                        c.p.toppager && b(c.p.toppager).css("width", d + "px");
                        !0 === c.p.toolbar[0] && (b(c.grid.uDiv).css("width",
                            d + "px"), "both" === c.p.toolbar[1] && b(c.grid.ubDiv).css("width", d + "px"));
                        c.p.footerrow && b(c.grid.sDiv).css("width", d + "px");
                        !1 === g && !0 === c.p.forceFit && (c.p.forceFit = !1);
                        if (!0 === g) {
                            b.each(c.p.colModel, function () {
                                if (this.hidden === false) {
                                    e = this.widthOrg;
                                    a = a + (e + i);
                                    this.fixed ? n = n + (e + i) : h++
                                }
                            });
                            if (0 === h)return;
                            c.p.tblwidth = a;
                            m = d - i * h - n;
                            if (!isNaN(c.p.height) && (b(c.grid.bDiv)[0].clientHeight < b(c.grid.bDiv)[0].scrollHeight || 1 === c.rows.length))j = !0, m -= k;
                            var a = 0, r = 0 < c.grid.cols.length;
                            b.each(c.p.colModel, function (b) {
                                if (this.hidden ===
                                    false && !this.fixed) {
                                    e = this.widthOrg;
                                    e = Math.round(m * e / (c.p.tblwidth - i * h - n));
                                    if (!(e < 0)) {
                                        this.width = e;
                                        a = a + e;
                                        c.grid.headers[b].width = e;
                                        c.grid.headers[b].el.style.width = e + "px";
                                        if (c.p.footerrow)c.grid.footers[b].style.width = e + "px";
                                        if (r)c.grid.cols[b].style.width = e + "px";
                                        f = b
                                    }
                                }
                            });
                            if (!f)return;
                            l = 0;
                            j ? d - n - (a + i * h) !== k && (l = d - n - (a + i * h) - k) : 1 !== Math.abs(d - n - (a + i * h)) && (l = d - n - (a + i * h));
                            c.p.colModel[f].width += l;
                            c.p.tblwidth = a + l + i * h + n;
                            c.p.tblwidth > d ? (j = c.p.tblwidth - parseInt(d, 10), c.p.tblwidth = d, e = c.p.colModel[f].width -=
                                j) : e = c.p.colModel[f].width;
                            c.grid.headers[f].width = e;
                            c.grid.headers[f].el.style.width = e + "px";
                            r && (c.grid.cols[f].style.width = e + "px");
                            c.p.footerrow && (c.grid.footers[f].style.width = e + "px")
                        }
                        c.p.tblwidth && (b("table:first", c.grid.bDiv).css("width", c.p.tblwidth + "px"), b("table:first", c.grid.hDiv).css("width", c.p.tblwidth + "px"), c.grid.hDiv.scrollLeft = c.grid.bDiv.scrollLeft, c.p.footerrow && b("table:first", c.grid.sDiv).css("width", c.p.tblwidth + "px"))
                    }
                }
            })
        }, setGridHeight: function (d) {
            return this.each(function () {
                if (this.grid) {
                    var g =
                        b(this.grid.bDiv);
                    g.css({height: d + (isNaN(d) ? "" : "px")});
                    !0 === this.p.frozenColumns && b("#" + b.jgrid.jqID(this.p.id) + "_frozen").parent().height(g.height() - 16);
                    this.p.height = d;
                    this.p.scroll && this.grid.populateVisible()
                }
            })
        }, setCaption: function (d) {
            return this.each(function () {
                this.p.caption = d;
                b("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl", this.grid.cDiv).html(d);
                b(this.grid.cDiv).show()
            })
        }, setLabel: function (d, g, c, e) {
            return this.each(function () {
                var a = -1;
                if (this.grid && void 0 !== d && (b(this.p.colModel).each(function (b) {
                    if (this.name ===
                        d)return a = b, !1
                }), 0 <= a)) {
                    var i = b("tr.ui-jqgrid-labels th:eq(" + a + ")", this.grid.hDiv);
                    if (g) {
                        var f = b(".s-ico", i);
                        b("[id^=jqgh_]", i).empty().html(g).append(f);
                        this.p.colNames[a] = g
                    }
                    c && ("string" === typeof c ? b(i).addClass(c) : b(i).css(c));
                    "object" === typeof e && b(i).attr(e)
                }
            })
        }, setCell: function (d, g, c, e, a, i) {
            return this.each(function () {
                var f = -1, h, j;
                if (this.grid && (isNaN(g) ? b(this.p.colModel).each(function (a) {
                    if (this.name === g)return f = a, !1
                }) : f = parseInt(g, 10), 0 <= f && (h = b(this).jqGrid("getGridRowById", d)))) {
                    var k =
                        b("td:eq(" + f + ")", h);
                    if ("" !== c || !0 === i)h = this.formatter(d, c, f, h, "edit"), j = this.p.colModel[f].title ? {title: b.jgrid.stripHtml(h)} : {}, this.p.treeGrid && 0 < b(".tree-wrap", b(k)).length ? b("span", b(k)).html(h).attr(j) : b(k).html(h).attr(j), "local" === this.p.datatype && (h = this.p.colModel[f], c = h.formatter && "string" === typeof h.formatter && "date" === h.formatter ? b.unformat.date.call(this, c, h) : c, j = this.p._index[b.jgrid.stripPref(this.p.idPrefix, d)], void 0 !== j && (this.p.data[j][h.name] = c));
                    "string" === typeof e ? b(k).addClass(e) :
                        e && b(k).css(e);
                    "object" === typeof a && b(k).attr(a)
                }
            })
        }, getCell: function (d, g) {
            var c = !1;
            this.each(function () {
                var e = -1;
                if (this.grid && (isNaN(g) ? b(this.p.colModel).each(function (a) {
                    if (this.name === g)return e = a, !1
                }) : e = parseInt(g, 10), 0 <= e)) {
                    var a = b(this).jqGrid("getGridRowById", d);
                    if (a)try {
                        c = b.unformat.call(this, b("td:eq(" + e + ")", a), {rowId: a.id, colModel: this.p.colModel[e]}, e)
                    } catch (i) {
                        c = b.jgrid.htmlDecode(b("td:eq(" + e + ")", a).html())
                    }
                }
            });
            return c
        }, getCol: function (d, g, c) {
            var e = [], a, i = 0, f, h, j, g = "boolean" !== typeof g ?
                !1 : g;
            void 0 === c && (c = !1);
            this.each(function () {
                var k = -1;
                if (this.grid && (isNaN(d) ? b(this.p.colModel).each(function (a) {
                    if (this.name === d)return k = a, !1
                }) : k = parseInt(d, 10), 0 <= k)) {
                    var m = this.rows.length, n = 0, l = 0;
                    if (m && 0 < m) {
                        for (; n < m;) {
                            if (b(this.rows[n]).hasClass("jqgrow")) {
                                try {
                                    a = b.unformat.call(this, b(this.rows[n].cells[k]), {rowId: this.rows[n].id, colModel: this.p.colModel[k]}, k)
                                } catch (r) {
                                    a = b.jgrid.htmlDecode(this.rows[n].cells[k].innerHTML)
                                }
                                c ? (j = parseFloat(a), isNaN(j) || (i += j, void 0 === h && (h = f = j), f = Math.min(f,
                                    j), h = Math.max(h, j), l++)) : g ? e.push({id: this.rows[n].id, value: a}) : e.push(a)
                            }
                            n++
                        }
                        if (c)switch (c.toLowerCase()) {
                            case "sum":
                                e = i;
                                break;
                            case "avg":
                                e = i / l;
                                break;
                            case "count":
                                e = m - 1;
                                break;
                            case "min":
                                e = f;
                                break;
                            case "max":
                                e = h
                        }
                    }
                }
            });
            return e
        }, clearGridData: function (d) {
            return this.each(function () {
                if (this.grid) {
                    "boolean" !== typeof d && (d = !1);
                    if (this.p.deepempty)b("#" + b.jgrid.jqID(this.p.id) + " tbody:first tr:gt(0)").remove(); else {
                        var g = b("#" + b.jgrid.jqID(this.p.id) + " tbody:first tr:first")[0];
                        b("#" + b.jgrid.jqID(this.p.id) +
                            " tbody:first").empty().append(g)
                    }
                    this.p.footerrow && d && b(".ui-jqgrid-ftable td", this.grid.sDiv).html("&#160;");
                    this.p.selrow = null;
                    this.p.selarrrow = [];
                    this.p.savedRow = [];
                    this.p.records = 0;
                    this.p.page = 1;
                    this.p.lastpage = 0;
                    this.p.reccount = 0;
                    this.p.data = [];
                    this.p._index = {};
                    this.updatepager(!0, !1)
                }
            })
        }, getInd: function (d, g) {
            var c = !1, e;
            this.each(function () {
                (e = b(this).jqGrid("getGridRowById", d)) && (c = !0 === g ? e : e.rowIndex)
            });
            return c
        }, bindKeys: function (d) {
            var g = b.extend({onEnter: null, onSpace: null, onLeftKey: null,
                onRightKey: null, scrollingRows: !0}, d || {});
            return this.each(function () {
                var c = this;
                b("body").is("[role]") || b("body").attr("role", "application");
                c.p.scrollrows = g.scrollingRows;
                b(c).keydown(function (d) {
                    var a = b(c).find("tr[tabindex=0]")[0], i, f, h, j = c.p.treeReader.expanded_field;
                    if (a)if (h = c.p._index[b.jgrid.stripPref(c.p.idPrefix, a.id)], 37 === d.keyCode || 38 === d.keyCode || 39 === d.keyCode || 40 === d.keyCode) {
                        if (38 === d.keyCode) {
                            f = a.previousSibling;
                            i = "";
                            if (f)if (b(f).is(":hidden"))for (; f;) {
                                if (f = f.previousSibling, !b(f).is(":hidden") &&
                                    b(f).hasClass("jqgrow")) {
                                    i = f.id;
                                    break
                                }
                            } else i = f.id;
                            b(c).jqGrid("setSelection", i, !0, d);
                            d.preventDefault()
                        }
                        if (40 === d.keyCode) {
                            f = a.nextSibling;
                            i = "";
                            if (f)if (b(f).is(":hidden"))for (; f;) {
                                if (f = f.nextSibling, !b(f).is(":hidden") && b(f).hasClass("jqgrow")) {
                                    i = f.id;
                                    break
                                }
                            } else i = f.id;
                            b(c).jqGrid("setSelection", i, !0, d);
                            d.preventDefault()
                        }
                        37 === d.keyCode && (c.p.treeGrid && c.p.data[h][j] && b(a).find("div.treeclick").trigger("click"), b(c).triggerHandler("jqGridKeyLeft", [c.p.selrow]), b.isFunction(g.onLeftKey) && g.onLeftKey.call(c,
                            c.p.selrow));
                        39 === d.keyCode && (c.p.treeGrid && !c.p.data[h][j] && b(a).find("div.treeclick").trigger("click"), b(c).triggerHandler("jqGridKeyRight", [c.p.selrow]), b.isFunction(g.onRightKey) && g.onRightKey.call(c, c.p.selrow))
                    } else 13 === d.keyCode ? (b(c).triggerHandler("jqGridKeyEnter", [c.p.selrow]), b.isFunction(g.onEnter) && g.onEnter.call(c, c.p.selrow)) : 32 === d.keyCode && (b(c).triggerHandler("jqGridKeySpace", [c.p.selrow]), b.isFunction(g.onSpace) && g.onSpace.call(c, c.p.selrow))
                })
            })
        }, unbindKeys: function () {
            return this.each(function () {
                b(this).unbind("keydown")
            })
        },
        getLocalRow: function (d) {
            var g = !1, c;
            this.each(function () {
                void 0 !== d && (c = this.p._index[b.jgrid.stripPref(this.p.idPrefix, d)], 0 <= c && (g = this.p.data[c]))
            });
            return g
        }})
})(jQuery);
(function (a) {
    a.fmatter = {};
    a.extend(a.fmatter, {isBoolean: function (a) {
        return"boolean" === typeof a
    }, isObject: function (c) {
        return c && ("object" === typeof c || a.isFunction(c)) || !1
    }, isString: function (a) {
        return"string" === typeof a
    }, isNumber: function (a) {
        return"number" === typeof a && isFinite(a)
    }, isValue: function (a) {
        return this.isObject(a) || this.isString(a) || this.isNumber(a) || this.isBoolean(a)
    }, isEmpty: function (c) {
        if (!this.isString(c) && this.isValue(c))return!1;
        if (!this.isValue(c))return!0;
        c = a.trim(c).replace(/\&nbsp\;/ig,
            "").replace(/\&#160\;/ig, "");
        return"" === c
    }});
    a.fn.fmatter = function (c, b, d, e, f) {
        var g = b, d = a.extend({}, a.jgrid.formatter, d);
        try {
            g = a.fn.fmatter[c].call(this, b, d, e, f)
        } catch (h) {
        }
        return g
    };
    a.fmatter.util = {NumberFormat: function (c, b) {
        a.fmatter.isNumber(c) || (c *= 1);
        if (a.fmatter.isNumber(c)) {
            var d = 0 > c, e = "" + c, f = b.decimalSeparator || ".", g;
            if (a.fmatter.isNumber(b.decimalPlaces)) {
                var h = b.decimalPlaces, e = Math.pow(10, h), e = "" + Math.round(c * e) / e;
                g = e.lastIndexOf(".");
                if (0 < h) {
                    0 > g ? (e += f, g = e.length - 1) : "." !== f && (e = e.replace(".",
                        f));
                    for (; e.length - 1 - g < h;)e += "0"
                }
            }
            if (b.thousandsSeparator) {
                h = b.thousandsSeparator;
                g = e.lastIndexOf(f);
                g = -1 < g ? g : e.length;
                var f = e.substring(g), j = -1, i;
                for (i = g; 0 < i; i--) {
                    j++;
                    if (0 === j % 3 && i !== g && (!d || 1 < i))f = h + f;
                    f = e.charAt(i - 1) + f
                }
                e = f
            }
            e = b.prefix ? b.prefix + e : e;
            return e = b.suffix ? e + b.suffix : e
        }
        return c
    }};
    a.fn.fmatter.defaultFormat = function (c, b) {
        return a.fmatter.isValue(c) && "" !== c ? c : b.defaultValue || "&#160;"
    };
    a.fn.fmatter.email = function (c, b) {
        return!a.fmatter.isEmpty(c) ? '<a href="mailto:' + c + '">' + c + "</a>" : a.fn.fmatter.defaultFormat(c,
            b)
    };
    a.fn.fmatter.checkbox = function (c, b) {
        var d = a.extend({}, b.checkbox), e;
        void 0 !== b.colModel && void 0 !== b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        e = !0 === d.disabled ? 'disabled="disabled"' : "";
        if (a.fmatter.isEmpty(c) || void 0 === c)c = a.fn.fmatter.defaultFormat(c, d);
        c = ("" + c + "").toLowerCase();
        return'<input type="checkbox" ' + (0 > c.search(/(false|f|0|no|n|off|undefined)/i) ? " checked='checked' " : "") + ' value="' + c + '" offval="no" ' + e + "/>"
    };
    a.fn.fmatter.link = function (c, b) {
        var d = {target: b.target},
            e = "";
        void 0 !== b.colModel && void 0 !== b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        d.target && (e = "target=" + d.target);
        return!a.fmatter.isEmpty(c) ? "<a " + e + ' href="' + c + '">' + c + "</a>" : a.fn.fmatter.defaultFormat(c, b)
    };
    a.fn.fmatter.showlink = function (c, b) {
        var d = {baseLinkUrl: b.baseLinkUrl, showAction: b.showAction, addParam: b.addParam || "", target: b.target, idName: b.idName}, e = "";
        void 0 !== b.colModel && void 0 !== b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        d.target && (e =
            "target=" + d.target);
        d = d.baseLinkUrl + d.showAction + "?" + d.idName + "=" + b.rowId + d.addParam;
        return a.fmatter.isString(c) || a.fmatter.isNumber(c) ? "<a " + e + ' href="' + d + '">' + c + "</a>" : a.fn.fmatter.defaultFormat(c, b)
    };
    a.fn.fmatter.integer = function (c, b) {
        var d = a.extend({}, b.integer);
        void 0 !== b.colModel && void 0 !== b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        return a.fmatter.isEmpty(c) ? d.defaultValue : a.fmatter.util.NumberFormat(c, d)
    };
    a.fn.fmatter.number = function (c, b) {
        var d = a.extend({}, b.number);
        void 0 !== b.colModel && void 0 !== b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        return a.fmatter.isEmpty(c) ? d.defaultValue : a.fmatter.util.NumberFormat(c, d)
    };
    a.fn.fmatter.currency = function (c, b) {
        var d = a.extend({}, b.currency);
        void 0 !== b.colModel && void 0 !== b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        return a.fmatter.isEmpty(c) ? d.defaultValue : a.fmatter.util.NumberFormat(c, d)
    };
    a.fn.fmatter.date = function (c, b, d, e) {
        d = a.extend({}, b.date);
        void 0 !== b.colModel && void 0 !==
            b.colModel.formatoptions && (d = a.extend({}, d, b.colModel.formatoptions));
        return!d.reformatAfterEdit && "edit" === e ? a.fn.fmatter.defaultFormat(c, b) : !a.fmatter.isEmpty(c) ? a.jgrid.parseDate(d.srcformat, c, d.newformat, d) : a.fn.fmatter.defaultFormat(c, b)
    };
    a.fn.fmatter.select = function (c, b) {
        var c = "" + c, d = !1, e = [], f, g;
        void 0 !== b.colModel.formatoptions ? (d = b.colModel.formatoptions.value, f = void 0 === b.colModel.formatoptions.separator ? ":" : b.colModel.formatoptions.separator, g = void 0 === b.colModel.formatoptions.delimiter ?
            ";" : b.colModel.formatoptions.delimiter) : void 0 !== b.colModel.editoptions && (d = b.colModel.editoptions.value, f = void 0 === b.colModel.editoptions.separator ? ":" : b.colModel.editoptions.separator, g = void 0 === b.colModel.editoptions.delimiter ? ";" : b.colModel.editoptions.delimiter);
        if (d) {
            var h = !0 === b.colModel.editoptions.multiple ? !0 : !1, j = [];
            h && (j = c.split(","), j = a.map(j, function (b) {
                return a.trim(b)
            }));
            if (a.fmatter.isString(d)) {
                var i = d.split(g), k = 0, l;
                for (l = 0; l < i.length; l++)if (g = i[l].split(f), 2 < g.length && (g[1] = a.map(g,
                    function (a, b) {
                        if (b > 0)return a
                    }).join(f)), h)-1 < a.inArray(g[0], j) && (e[k] = g[1], k++); else if (a.trim(g[0]) === a.trim(c)) {
                    e[0] = g[1];
                    break
                }
            } else a.fmatter.isObject(d) && (h ? e = a.map(j, function (a) {
                return d[a]
            }) : e[0] = d[c] || "")
        }
        c = e.join(", ");
        return"" === c ? a.fn.fmatter.defaultFormat(c, b) : c
    };
    a.fn.fmatter.rowactions = function (c) {
        var b = a(this).closest("tr.jqgrow"), d = b.attr("id"), e = a(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/, "$1"), e = a("#" + e), f = e[0], g = f.p, h = g.colModel[a.jgrid.getCellIndex(this)],
            j = h.frozen ? a("tr#" + d + " td:eq(" + a.jgrid.getCellIndex(this) + ") > div", e) : a(this).parent(), i = {keys: !1, onEdit: null, onSuccess: null, afterSave: null, onError: null, afterRestore: null, extraparam: {}, url: null, restoreAfterError: !0, mtype: "POST", delOptions: {}, editOptions: {}}, k = function (b) {
                a.isFunction(i.afterRestore) && i.afterRestore.call(f, b);
                j.find("div.ui-inline-edit,div.ui-inline-del").show();
                j.find("div.ui-inline-save,div.ui-inline-cancel").hide()
            };
        void 0 !== h.formatoptions && (i = a.extend(i, h.formatoptions));
        void 0 !==
            g.editOptions && (i.editOptions = g.editOptions);
        void 0 !== g.delOptions && (i.delOptions = g.delOptions);
        b.hasClass("jqgrid-new-row") && (i.extraparam[g.prmNames.oper] = g.prmNames.addoper);
        b = {keys: i.keys, oneditfunc: i.onEdit, successfunc: i.onSuccess, url: i.url, extraparam: i.extraparam, aftersavefunc: function (b, c) {
            a.isFunction(i.afterSave) && i.afterSave.call(f, b, c);
            j.find("div.ui-inline-edit,div.ui-inline-del").show();
            j.find("div.ui-inline-save,div.ui-inline-cancel").hide()
        }, errorfunc: i.onError, afterrestorefunc: k, restoreAfterError: i.restoreAfterError,
            mtype: i.mtype};
        switch (c) {
            case "edit":
                e.jqGrid("editRow", d, b);
                j.find("div.ui-inline-edit,div.ui-inline-del").hide();
                j.find("div.ui-inline-save,div.ui-inline-cancel").show();
                e.triggerHandler("jqGridAfterGridComplete");
                break;
            case "save":
                e.jqGrid("saveRow", d, b) && (j.find("div.ui-inline-edit,div.ui-inline-del").show(), j.find("div.ui-inline-save,div.ui-inline-cancel").hide(), e.triggerHandler("jqGridAfterGridComplete"));
                break;
            case "cancel":
                e.jqGrid("restoreRow", d, k);
                j.find("div.ui-inline-edit,div.ui-inline-del").show();
                j.find("div.ui-inline-save,div.ui-inline-cancel").hide();
                e.triggerHandler("jqGridAfterGridComplete");
                break;
            case "del":
                e.jqGrid("delGridRow", d, i.delOptions);
                break;
            case "formedit":
                e.jqGrid("setSelection", d), e.jqGrid("editGridRow", d, i.editOptions)
        }
    };
    a.fn.fmatter.actions = function (c, b) {
        var d = {keys: !1, editbutton: !0, delbutton: !0, editformbutton: !1}, e = b.rowId, f = "";
        void 0 !== b.colModel.formatoptions && (d = a.extend(d, b.colModel.formatoptions));
        if (void 0 === e || a.fmatter.isEmpty(e))return"";
        d.editformbutton ? f += "<div title='" +
            a.jgrid.nav.edittitle + "' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' " + ("id='jEditButton_" + e + "' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ") + "><span class='ui-icon ui-icon-pencil'></span></div>" : d.editbutton && (f += "<div title='" + a.jgrid.nav.edittitle + "' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' " + ("id='jEditButton_" + e + "' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ") +
            "><span class='ui-icon ui-icon-pencil'></span></div>");
        d.delbutton && (f += "<div title='" + a.jgrid.nav.deltitle + "' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' " + ("id='jDeleteButton_" + e + "' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ") + "><span class='ui-icon ui-icon-trash'></span></div>");
        f += "<div title='" + a.jgrid.edit.bSubmit + "' style='float:left;display:none' class='ui-pg-div ui-inline-save' " +
            ("id='jSaveButton_" + e + "' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ") + "><span class='ui-icon ui-icon-disk'></span></div>";
        f += "<div title='" + a.jgrid.edit.bCancel + "' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' " + ("id='jCancelButton_" + e + "' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ") +
            "><span class='ui-icon ui-icon-cancel'></span></div>";
        return"<div style='margin-left:8px;'>" + f + "</div>"
    };
    a.unformat = function (c, b, d, e) {
        var f, g = b.colModel.formatter, h = b.colModel.formatoptions || {}, j = /([\.\*\_\'\(\)\{\}\+\?\\])/g, i = b.colModel.unformat || a.fn.fmatter[g] && a.fn.fmatter[g].unformat;
        if (void 0 !== i && a.isFunction(i))f = i.call(this, a(c).text(), b, c); else if (void 0 !== g && a.fmatter.isString(g))switch (f = a.jgrid.formatter || {}, g) {
            case "integer":
                h = a.extend({}, f.integer, h);
                b = h.thousandsSeparator.replace(j,
                    "\\$1");
                f = a(c).text().replace(RegExp(b, "g"), "");
                break;
            case "number":
                h = a.extend({}, f.number, h);
                b = h.thousandsSeparator.replace(j, "\\$1");
                f = a(c).text().replace(RegExp(b, "g"), "").replace(h.decimalSeparator, ".");
                break;
            case "currency":
                h = a.extend({}, f.currency, h);
                b = h.thousandsSeparator.replace(j, "\\$1");
                b = RegExp(b, "g");
                f = a(c).text();
                h.prefix && h.prefix.length && (f = f.substr(h.prefix.length));
                h.suffix && h.suffix.length && (f = f.substr(0, f.length - h.suffix.length));
                f = f.replace(b, "").replace(h.decimalSeparator, ".");
                break;
            case "checkbox":
                h = b.colModel.editoptions ? b.colModel.editoptions.value.split(":") : ["Yes", "No"];
                f = a("input", c).is(":checked") ? h[0] : h[1];
                break;
            case "select":
                f = a.unformat.select(c, b, d, e);
                break;
            case "actions":
                return"";
            default:
                f = a(c).text()
        }
        return void 0 !== f ? f : !0 === e ? a(c).text() : a.jgrid.htmlDecode(a(c).html())
    };
    a.unformat.select = function (c, b, d, e) {
        d = [];
        c = a(c).text();
        if (!0 === e)return c;
        var e = a.extend({}, void 0 !== b.colModel.formatoptions ? b.colModel.formatoptions : b.colModel.editoptions), b = void 0 === e.separator ?
            ":" : e.separator, f = void 0 === e.delimiter ? ";" : e.delimiter;
        if (e.value) {
            var g = e.value, e = !0 === e.multiple ? !0 : !1, h = [];
            e && (h = c.split(","), h = a.map(h, function (b) {
                return a.trim(b)
            }));
            if (a.fmatter.isString(g)) {
                var j = g.split(f), i = 0, k;
                for (k = 0; k < j.length; k++)if (f = j[k].split(b), 2 < f.length && (f[1] = a.map(f,function (a, b) {
                    if (b > 0)return a
                }).join(b)), e)-1 < a.inArray(f[1], h) && (d[i] = f[0], i++); else if (a.trim(f[1]) === a.trim(c)) {
                    d[0] = f[0];
                    break
                }
            } else if (a.fmatter.isObject(g) || a.isArray(g))e || (h[0] = c), d = a.map(h, function (b) {
                var c;
                a.each(g, function (a, d) {
                    if (d === b) {
                        c = a;
                        return false
                    }
                });
                if (c !== void 0)return c
            });
            return d.join(", ")
        }
        return c || ""
    };
    a.unformat.date = function (c, b) {
        var d = a.jgrid.formatter.date || {};
        void 0 !== b.formatoptions && (d = a.extend({}, d, b.formatoptions));
        return!a.fmatter.isEmpty(c) ? a.jgrid.parseDate(d.newformat, c, d.srcformat, d) : a.fn.fmatter.defaultFormat(c, b)
    }
})(jQuery);
(function (a) {
    a.jgrid.extend({getColProp: function (a) {
        var c = {}, e = this[0];
        if (!e.grid)return!1;
        var e = e.p.colModel, d;
        for (d = 0; d < e.length; d++)if (e[d].name === a) {
            c = e[d];
            break
        }
        return c
    }, setColProp: function (b, c) {
        return this.each(function () {
            if (this.grid && c) {
                var e = this.p.colModel, d;
                for (d = 0; d < e.length; d++)if (e[d].name === b) {
                    a.extend(!0, this.p.colModel[d], c);
                    break
                }
            }
        })
    }, sortGrid: function (a, c, e) {
        return this.each(function () {
            var d = -1, i, h = !1;
            if (this.grid) {
                a || (a = this.p.sortname);
                for (i = 0; i < this.p.colModel.length; i++)if (this.p.colModel[i].index ===
                    a || this.p.colModel[i].name === a) {
                    d = i;
                    !0 === this.p.frozenColumns && !0 === this.p.colModel[i].frozen && (h = this.grid.fhDiv.find("#" + this.p.id + "_" + a));
                    break
                }
                -1 !== d && (i = this.p.colModel[d].sortable, "boolean" !== typeof i && (i = !0), "boolean" !== typeof c && (c = !1), i && this.sortData("jqgh_" + this.p.id + "_" + a, d, c, e, h))
            }
        })
    }, clearBeforeUnload: function () {
        return this.each(function () {
            var b = this.grid;
            b.emptyRows.call(this, !0, !0);
            a(document).unbind("mouseup.jqGrid" + this.p.id);
            a(b.hDiv).unbind("mousemove");
            a(this).unbind();
            b.dragEnd =
                null;
            b.dragMove = null;
            b.dragStart = null;
            b.emptyRows = null;
            b.populate = null;
            b.populateVisible = null;
            b.scrollGrid = null;
            b.selectionPreserver = null;
            b.bDiv = null;
            b.cDiv = null;
            b.hDiv = null;
            b.cols = null;
            var c, e = b.headers.length;
            for (c = 0; c < e; c++)b.headers[c].el = null;
            this.addJSONData = this.addXmlData = this.formatter = this.constructTr = this.setHeadCheckBox = this.refreshIndex = this.updatepager = this.sortData = this.formatCol = null
        })
    }, GridDestroy: function () {
        return this.each(function () {
            if (this.grid) {
                this.p.pager && a(this.p.pager).remove();
                try {
                    a(this).jqGrid("clearBeforeUnload"), a("#gbox_" + a.jgrid.jqID(this.id)).remove()
                } catch (b) {
                }
            }
        })
    }, GridUnload: function () {
        return this.each(function () {
            if (this.grid) {
                var b = a(this).attr("id"), c = a(this).attr("class");
                this.p.pager && a(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");
                var e = document.createElement("table");
                a(e).attr({id: b});
                e.className = c;
                b = a.jgrid.jqID(this.id);
                a(e).removeClass("ui-jqgrid-btable");
                1 === a(this.p.pager).parents("#gbox_" + b).length ? (a(e).insertBefore("#gbox_" +
                    b).show(), a(this.p.pager).insertBefore("#gbox_" + b)) : a(e).insertBefore("#gbox_" + b).show();
                a(this).jqGrid("clearBeforeUnload");
                a("#gbox_" + b).remove()
            }
        })
    }, setGridState: function (b) {
        return this.each(function () {
            this.grid && ("hidden" === b ? (a(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv", "#gview_" + a.jgrid.jqID(this.p.id)).slideUp("fast"), this.p.pager && a(this.p.pager).slideUp("fast"), this.p.toppager && a(this.p.toppager).slideUp("fast"), !0 === this.p.toolbar[0] && ("both" === this.p.toolbar[1] && a(this.grid.ubDiv).slideUp("fast"),
                a(this.grid.uDiv).slideUp("fast")), this.p.footerrow && a(".ui-jqgrid-sdiv", "#gbox_" + a.jgrid.jqID(this.p.id)).slideUp("fast"), a(".ui-jqgrid-titlebar-close span", this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"), this.p.gridstate = "hidden") : "visible" === b && (a(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv", "#gview_" + a.jgrid.jqID(this.p.id)).slideDown("fast"), this.p.pager && a(this.p.pager).slideDown("fast"), this.p.toppager && a(this.p.toppager).slideDown("fast"), !0 === this.p.toolbar[0] &&
                ("both" === this.p.toolbar[1] && a(this.grid.ubDiv).slideDown("fast"), a(this.grid.uDiv).slideDown("fast")), this.p.footerrow && a(".ui-jqgrid-sdiv", "#gbox_" + a.jgrid.jqID(this.p.id)).slideDown("fast"), a(".ui-jqgrid-titlebar-close span", this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"), this.p.gridstate = "visible"))
        })
    }, filterToolbar: function (b) {
        b = a.extend({autosearch: !0, searchOnEnter: !0, beforeSearch: null, afterSearch: null, beforeClear: null, afterClear: null, searchurl: "",
            stringResult: !1, groupOp: "AND", defaultSearch: "bw", searchOperators: !1, operandTitle: "Click to select search operation.", operands: {eq: "==", ne: "!", lt: "<", le: "<=", gt: ">", ge: ">=", bw: "^", bn: "!^", "in": "=", ni: "!=", ew: "|", en: "!@", cn: "~", nc: "!~", nu: "#", nn: "!#"}}, a.jgrid.search, b || {});
        return this.each(function () {
            var c = this;
            if (!this.ftoolbar) {
                var e = function () {
                    var e = {}, g = 0, f, o, i = {}, m;
                    a.each(c.p.colModel, function () {
                        var j = a("#gs_" + a.jgrid.jqID(this.name), !0 === this.frozen && !0 === c.p.frozenColumns ? c.grid.fhDiv : c.grid.hDiv);
                        o = this.index || this.name;
                        m = b.searchOperators ? j.parent().prev().children("a").attr("soper") || b.defaultSearch : this.searchoptions && this.searchoptions.sopt ? this.searchoptions.sopt[0] : "select" === this.stype ? "eq" : b.defaultSearch;
                        if ((f = "custom" === this.stype && a.isFunction(this.searchoptions.custom_value) && 0 < j.length && "SPAN" === j[0].nodeName.toUpperCase() ? this.searchoptions.custom_value.call(c, j.children(".customelement:first"), "get") : j.val()) || "nu" === m || "nn" === m)e[o] = f, i[o] = m, g++; else try {
                            delete c.p.postData[o]
                        } catch (h) {
                        }
                    });
                    var h = 0 < g ? !0 : !1;
                    if (!0 === b.stringResult || "local" === c.p.datatype) {
                        var j = '{"groupOp":"' + b.groupOp + '","rules":[', d = 0;
                        a.each(e, function (a, b) {
                            0 < d && (j += ",");
                            j += '{"field":"' + a + '",';
                            j += '"op":"' + i[a] + '",';
                            j += '"data":"' + (b + "").replace(/\\/g, "\\\\").replace(/\"/g, '\\"') + '"}';
                            d++
                        });
                        j += "]}";
                        a.extend(c.p.postData, {filters: j});
                        a.each(["searchField", "searchString", "searchOper"], function (a, b) {
                            c.p.postData.hasOwnProperty(b) && delete c.p.postData[b]
                        })
                    } else a.extend(c.p.postData, e);
                    var n;
                    c.p.searchurl && (n = c.p.url, a(c).jqGrid("setGridParam",
                        {url: c.p.searchurl}));
                    var r = "stop" === a(c).triggerHandler("jqGridToolbarBeforeSearch") ? !0 : !1;
                    !r && a.isFunction(b.beforeSearch) && (r = b.beforeSearch.call(c));
                    r || a(c).jqGrid("setGridParam", {search: h}).trigger("reloadGrid", [
                        {page: 1}
                    ]);
                    n && a(c).jqGrid("setGridParam", {url: n});
                    a(c).triggerHandler("jqGridToolbarAfterSearch");
                    a.isFunction(b.afterSearch) && b.afterSearch.call(c)
                }, d = function (k, g, f) {
                    a("#sopt_menu").remove();
                    var g = parseInt(g, 10), f = parseInt(f, 10) + 18, g = '<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:' +
                        (a(".ui-jqgrid-view").css("font-size") || "11px") + ";left:" + g + "px;top:" + f + 'px;">', f = a(k).attr("soper"), i, h = [], m, d = 0, j = a(k).attr("colname");
                    for (i = c.p.colModel.length; d < i && c.p.colModel[d].name !== j;)d++;
                    d = c.p.colModel[d];
                    j = a.extend({}, d.searchoptions);
                    j.sopt || (j.sopt = [], j.sopt[0] = "select" === d.stype ? "eq" : b.defaultSearch);
                    a.each(b.odata, function () {
                        h.push(this.oper)
                    });
                    for (d = 0; d < j.sopt.length; d++)m = a.inArray(j.sopt[d], h), -1 !== m && (i = f === b.odata[m].oper ? "ui-state-highlight" : "", g += '<li class="ui-menu-item ' + i +
                        '" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="' + b.odata[m].oper + '" oper="' + b.operands[b.odata[m].oper] + '"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">' + b.operands[b.odata[m].oper] + "</td><td>" + b.odata[m].text + "</td></tr></table></a></li>");
                    a("body").append(g + "</ul>");
                    a("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all");
                    a("#sopt_menu > li > a").hover(function () {
                        a(this).addClass("ui-state-hover")
                    },function () {
                        a(this).removeClass("ui-state-hover")
                    }).click(function () {
                        var g =
                            a(this).attr("value"), f = a(this).attr("oper");
                        a(c).triggerHandler("jqGridToolbarSelectOper", [g, f, k]);
                        a("#sopt_menu").hide();
                        a(k).text(f).attr("soper", g);
                        if (b.autosearch === true) {
                            f = a(k).parent().next().children()[0];
                            (a(f).val() || g === "nu" || g === "nn") && e()
                        }
                    })
                }, i = a("<tr class='ui-search-toolbar' role='rowheader'></tr>"), h;
                a.each(c.p.colModel, function (k) {
                    var g = this, f, d;
                    d = "";
                    var t = "=", m, p = a("<th role='columnheader' class='ui-state-default ui-th-column ui-th-" + c.p.direction + "'></th>"), j = a("<div style='position:relative;height:100%;padding-right:0.3em;padding-left:0.3em;'></div>"),
                        l = a("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");
                    !0 === this.hidden && a(p).css("display", "none");
                    this.search = !1 === this.search ? !1 : !0;
                    void 0 === this.stype && (this.stype = "text");
                    f = a.extend({}, this.searchoptions || {});
                    if (this.search) {
                        if (b.searchOperators) {
                            d = f.sopt ? f.sopt[0] : "select" === g.stype ? "eq" : b.defaultSearch;
                            for (m = 0; m < b.odata.length; m++)if (b.odata[m].oper === d) {
                                t = b.operands[d] || "";
                                break
                            }
                            d =
                                "<a title='" + (null != f.searchtitle ? f.searchtitle : b.operandTitle) + "' style='padding-right: 0.5em;' soper='" + d + "' class='soptclass' colname='" + this.name + "'>" + t + "</a>"
                        }
                        a("td:eq(0)", l).attr("colindex", k).append(d);
                        void 0 === f.clearSearch && (f.clearSearch = !0);
                        f.clearSearch && a("td:eq(2)", l).append("<a title='Clear Search Value' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>x</a>");
                        switch (this.stype) {
                            case "select":
                                if (d = this.surl || f.dataUrl)a(j).append(l), a.ajax(a.extend({url: d,
                                    dataType: "html", success: function (d) {
                                        if (f.buildSelect !== void 0)(d = f.buildSelect(d)) && a("td:eq(1)", l).append(d); else a("td:eq(1)", l).append(d);
                                        f.defaultValue !== void 0 && a("select", j).val(f.defaultValue);
                                        a("select", j).attr({name: g.index || g.name, id: "gs_" + g.name});
                                        f.attr && a("select", j).attr(f.attr);
                                        a("select", j).css({width: "100%"});
                                        a.jgrid.bindEv.call(c, a("select", j)[0], f);
                                        b.autosearch === true && a("select", j).change(function () {
                                            e();
                                            return false
                                        });
                                        d = null
                                    }}, a.jgrid.ajaxOptions, c.p.ajaxSelectOptions || {})); else {
                                    var n,
                                        r, q;
                                    g.searchoptions ? (n = void 0 === g.searchoptions.value ? "" : g.searchoptions.value, r = void 0 === g.searchoptions.separator ? ":" : g.searchoptions.separator, q = void 0 === g.searchoptions.delimiter ? ";" : g.searchoptions.delimiter) : g.editoptions && (n = void 0 === g.editoptions.value ? "" : g.editoptions.value, r = void 0 === g.editoptions.separator ? ":" : g.editoptions.separator, q = void 0 === g.editoptions.delimiter ? ";" : g.editoptions.delimiter);
                                    if (n) {
                                        k = document.createElement("select");
                                        k.style.width = "100%";
                                        a(k).attr({name: g.index || g.name,
                                            id: "gs_" + g.name});
                                        var s;
                                        if ("string" === typeof n) {
                                            d = n.split(q);
                                            for (s = 0; s < d.length; s++)n = d[s].split(r), q = document.createElement("option"), q.value = n[0], q.innerHTML = n[1], k.appendChild(q)
                                        } else if ("object" === typeof n)for (s in n)n.hasOwnProperty(s) && (q = document.createElement("option"), q.value = s, q.innerHTML = n[s], k.appendChild(q));
                                        void 0 !== f.defaultValue && a(k).val(f.defaultValue);
                                        f.attr && a(k).attr(f.attr);
                                        a(j).append(l);
                                        a.jgrid.bindEv.call(c, k, f);
                                        a("td:eq(1)", l).append(k);
                                        !0 === b.autosearch && a(k).change(function () {
                                            e();
                                            return false
                                        })
                                    }
                                }
                                break;
                            case "text":
                                r = void 0 !== f.defaultValue ? f.defaultValue : "";
                                a("td:eq(1)", l).append("<input type='text' style='width:100%;padding:0px;' name='" + (g.index || g.name) + "' id='gs_" + g.name + "' value='" + r + "'/>");
                                a(j).append(l);
                                f.attr && a("input", j).attr(f.attr);
                                a.jgrid.bindEv.call(c, a("input", j)[0], f);
                                !0 === b.autosearch && (b.searchOnEnter ? a("input", j).keypress(function (a) {
                                    if ((a.charCode || a.keyCode || 0) === 13) {
                                        e();
                                        return false
                                    }
                                    return this
                                }) : a("input", j).keydown(function (a) {
                                    switch (a.which) {
                                        case 13:
                                            return false;
                                        case 9:
                                        case 16:
                                        case 37:
                                        case 38:
                                        case 39:
                                        case 40:
                                        case 27:
                                            break;
                                        default:
                                            h && clearTimeout(h);
                                            h = setTimeout(function () {
                                                e()
                                            }, 500)
                                    }
                                }));
                                break;
                            case "custom":
                                a("td:eq(1)", l).append("<span style='width:95%;padding:0px;' name='" + (g.index || g.name) + "' id='gs_" + g.name + "'/>");
                                a(j).append(l);
                                try {
                                    if (a.isFunction(f.custom_element)) {
                                        var v = f.custom_element.call(c, void 0 !== f.defaultValue ? f.defaultValue : "", f);
                                        if (v)v = a(v).addClass("customelement"), a(j).find(">span").append(v); else throw"e2";
                                    } else throw"e1";
                                } catch (u) {
                                    "e1" ===
                                        u && a.jgrid.info_dialog(a.jgrid.errors.errcap, "function 'custom_element' " + a.jgrid.edit.msg.nodefined, a.jgrid.edit.bClose), "e2" === u ? a.jgrid.info_dialog(a.jgrid.errors.errcap, "function 'custom_element' " + a.jgrid.edit.msg.novalue, a.jgrid.edit.bClose) : a.jgrid.info_dialog(a.jgrid.errors.errcap, "string" === typeof u ? u : u.message, a.jgrid.edit.bClose)
                                }
                        }
                    }
                    a(p).append(j);
                    a(i).append(p);
                    b.searchOperators || a("td:eq(0)", l).hide()
                });
                a("table thead", c.grid.hDiv).append(i);
                b.searchOperators && (a(".soptclass", i).click(function (b) {
                    var c =
                        a(this).offset();
                    d(this, c.left, c.top);
                    b.stopPropagation()
                }), a("body").on("click", function (b) {
                    "soptclass" !== b.target.className && a("#sopt_menu").hide()
                }));
                a(".clearsearchclass", i).click(function () {
                    var d = a(this).parents("tr:first"), g = parseInt(a("td.ui-search-oper", d).attr("colindex"), 10), f = a.extend({}, c.p.colModel[g].searchoptions || {}), f = f.defaultValue ? f.defaultValue : "";
                    c.p.colModel[g].stype === "select" ? f ? a("td.ui-search-input select", d).val(f) : a("td.ui-search-input select", d)[0].selectedIndex = 0 : a("td.ui-search-input input",
                        d).val(f);
                    b.autosearch === true && e()
                });
                this.ftoolbar = !0;
                this.triggerToolbar = e;
                this.clearToolbar = function (d) {
                    var g = {}, f = 0, e, d = typeof d !== "boolean" ? true : d;
                    a.each(c.p.colModel, function () {
                        var b, d = a("#gs_" + a.jgrid.jqID(this.name), this.frozen === true && c.p.frozenColumns === true ? c.grid.fhDiv : c.grid.hDiv);
                        if (this.searchoptions && this.searchoptions.defaultValue !== void 0)b = this.searchoptions.defaultValue;
                        e = this.index || this.name;
                        switch (this.stype) {
                            case "select":
                                d.find("option").each(function (c) {
                                    if (c === 0)this.selected =
                                        true;
                                    if (a(this).val() === b) {
                                        this.selected = true;
                                        return false
                                    }
                                });
                                if (b !== void 0) {
                                    g[e] = b;
                                    f++
                                } else try {
                                    delete c.p.postData[e]
                                } catch (h) {
                                }
                                break;
                            case "text":
                                d.val(b);
                                if (b !== void 0) {
                                    g[e] = b;
                                    f++
                                } else try {
                                    delete c.p.postData[e]
                                } catch (i) {
                                }
                                break;
                            case "custom":
                                a.isFunction(this.searchoptions.custom_value) && d.length > 0 && d[0].nodeName.toUpperCase() === "SPAN" && this.searchoptions.custom_value.call(c, d.children(".customelement:first"), "set", b)
                        }
                    });
                    var i = f > 0 ? true : false;
                    if (b.stringResult === true || c.p.datatype === "local") {
                        var h =
                            '{"groupOp":"' + b.groupOp + '","rules":[', p = 0;
                        a.each(g, function (a, b) {
                            p > 0 && (h = h + ",");
                            h = h + ('{"field":"' + a + '",');
                            h = h + '"op":"eq",';
                            h = h + ('"data":"' + (b + "").replace(/\\/g, "\\\\").replace(/\"/g, '\\"') + '"}');
                            p++
                        });
                        h = h + "]}";
                        a.extend(c.p.postData, {filters: h});
                        a.each(["searchField", "searchString", "searchOper"], function (a, b) {
                            c.p.postData.hasOwnProperty(b) && delete c.p.postData[b]
                        })
                    } else a.extend(c.p.postData, g);
                    var j;
                    if (c.p.searchurl) {
                        j = c.p.url;
                        a(c).jqGrid("setGridParam", {url: c.p.searchurl})
                    }
                    var l = a(c).triggerHandler("jqGridToolbarBeforeClear") ===
                        "stop" ? true : false;
                    !l && a.isFunction(b.beforeClear) && (l = b.beforeClear.call(c));
                    l || d && a(c).jqGrid("setGridParam", {search: i}).trigger("reloadGrid", [
                        {page: 1}
                    ]);
                    j && a(c).jqGrid("setGridParam", {url: j});
                    a(c).triggerHandler("jqGridToolbarAfterClear");
                    a.isFunction(b.afterClear) && b.afterClear()
                };
                this.toggleToolbar = function () {
                    var b = a("tr.ui-search-toolbar", c.grid.hDiv), d = c.p.frozenColumns === true ? a("tr.ui-search-toolbar", c.grid.fhDiv) : false;
                    if (b.css("display") === "none") {
                        b.show();
                        d && d.show()
                    } else {
                        b.hide();
                        d && d.hide()
                    }
                }
            }
        })
    },
        destroyFilterToolbar: function () {
            return this.each(function () {
                this.ftoolbar && (this.toggleToolbar = this.clearToolbar = this.triggerToolbar = null, this.ftoolbar = !1, a(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())
            })
        }, destroyGroupHeader: function (b) {
            void 0 === b && (b = !0);
            return this.each(function () {
                var c, e, d, i, h, k;
                e = this.grid;
                var g = a("table.ui-jqgrid-htable thead", e.hDiv), f = this.p.colModel;
                if (e) {
                    a(this).unbind(".setGroupHeaders");
                    c = a("<tr>", {role: "rowheader"}).addClass("ui-jqgrid-labels");
                    i =
                        e.headers;
                    e = 0;
                    for (d = i.length; e < d; e++) {
                        h = f[e].hidden ? "none" : "";
                        h = a(i[e].el).width(i[e].width).css("display", h);
                        try {
                            h.removeAttr("rowSpan")
                        } catch (o) {
                            h.attr("rowSpan", 1)
                        }
                        c.append(h);
                        k = h.children("span.ui-jqgrid-resize");
                        0 < k.length && (k[0].style.height = "");
                        h.children("div")[0].style.top = ""
                    }
                    a(g).children("tr.ui-jqgrid-labels").remove();
                    a(g).prepend(c);
                    !0 === b && a(this).jqGrid("setGridParam", {groupHeader: null})
                }
            })
        }, setGroupHeaders: function (b) {
            b = a.extend({useColSpanStyle: !1, groupHeaders: []}, b || {});
            return this.each(function () {
                this.p.groupHeader =
                    b;
                var c, e, d = 0, i, h, k, g, f, o = this.p.colModel, t = o.length, m = this.grid.headers, p = a("table.ui-jqgrid-htable", this.grid.hDiv), j = p.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");
                i = p.children("thead");
                var l = p.find(".jqg-first-row-header");
                void 0 === l[0] ? l = a("<tr>", {role: "row", "aria-hidden": "true"}).addClass("jqg-first-row-header").css("height", "auto") : l.empty();
                var n, r = function (a, b) {
                    var c = b.length, d;
                    for (d = 0; d < c; d++)if (b[d].startColumnName === a)return d;
                    return-1
                };
                a(this).prepend(i);
                i = a("<tr>", {role: "rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header");
                for (c = 0; c < t; c++)if (k = m[c].el, g = a(k), e = o[c], h = {height: "0px", width: m[c].width + "px", display: e.hidden ? "none" : ""}, a("<th>", {role: "gridcell"}).css(h).addClass("ui-first-th-" + this.p.direction).appendTo(l), k.style.width = "", h = r(e.name, b.groupHeaders), 0 <= h) {
                    h = b.groupHeaders[h];
                    d = h.numberOfColumns;
                    f = h.titleText;
                    for (h = e = 0; h < d && c + h < t; h++)o[c + h].hidden || e++;
                    h = a("<th>").attr({role: "columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-" +
                        this.p.direction).css({height: "22px", "border-top": "0px none"}).html(f);
                    0 < e && h.attr("colspan", "" + e);
                    this.p.headertitles && h.attr("title", h.text());
                    0 === e && h.hide();
                    g.before(h);
                    i.append(k);
                    d -= 1
                } else 0 === d ? b.useColSpanStyle ? g.attr("rowspan", "2") : (a("<th>", {role: "columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-" + this.p.direction).css({display: e.hidden ? "none" : "", "border-top": "0px none"}).insertBefore(g), i.append(k)) : (i.append(k), d--);
                o = a(this).children("thead");
                o.prepend(l);
                i.insertAfter(j);
                p.append(o);
                b.useColSpanStyle && (p.find("span.ui-jqgrid-resize").each(function () {
                    var b = a(this).parent();
                    b.is(":visible") && (this.style.cssText = "height: " + b.height() + "px !important; cursor: col-resize;")
                }), p.find("div.ui-jqgrid-sortable").each(function () {
                    var b = a(this), c = b.parent();
                    c.is(":visible") && c.is(":has(span.ui-jqgrid-resize)") && b.css("top", (c.height() - b.outerHeight()) / 2 + "px")
                }));
                n = o.find("tr.jqg-first-row-header");
                a(this).bind("jqGridResizeStop.setGroupHeaders", function (a, b, c) {
                    n.find("th").eq(c).width(b)
                })
            })
        },
        setFrozenColumns: function () {
            return this.each(function () {
                if (this.grid) {
                    var b = this, c = b.p.colModel, e = 0, d = c.length, i = -1, h = !1;
                    if (!(!0 === b.p.subGrid || !0 === b.p.treeGrid || !0 === b.p.cellEdit || b.p.sortable || b.p.scroll || b.p.grouping)) {
                        b.p.rownumbers && e++;
                        for (b.p.multiselect && e++; e < d;) {
                            if (!0 === c[e].frozen)h = !0, i = e; else break;
                            e++
                        }
                        if (0 <= i && h) {
                            c = b.p.caption ? a(b.grid.cDiv).outerHeight() : 0;
                            e = a(".ui-jqgrid-htable", "#gview_" + a.jgrid.jqID(b.p.id)).height();
                            b.p.toppager && (c += a(b.grid.topDiv).outerHeight());
                            !0 === b.p.toolbar[0] &&
                                "bottom" !== b.p.toolbar[1] && (c += a(b.grid.uDiv).outerHeight());
                            b.grid.fhDiv = a('<div style="position:absolute;left:0px;top:' + c + "px;height:" + e + 'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>');
                            b.grid.fbDiv = a('<div style="position:absolute;left:0px;top:' + (parseInt(c, 10) + parseInt(e, 10) + 1) + 'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>');
                            a("#gview_" + a.jgrid.jqID(b.p.id)).append(b.grid.fhDiv);
                            c = a(".ui-jqgrid-htable", "#gview_" + a.jgrid.jqID(b.p.id)).clone(!0);
                            if (b.p.groupHeader) {
                                a("tr.jqg-first-row-header, tr.jqg-third-row-header",
                                    c).each(function () {
                                        a("th:gt(" + i + ")", this).remove()
                                    });
                                var k = -1, g = -1, f, o;
                                a("tr.jqg-second-row-header th", c).each(function () {
                                    f = parseInt(a(this).attr("colspan"), 10);
                                    if (o = parseInt(a(this).attr("rowspan"), 10))k++, g++;
                                    f && (k += f, g++);
                                    if (k === i)return!1
                                });
                                k !== i && (g = i);
                                a("tr.jqg-second-row-header", c).each(function () {
                                    a("th:gt(" + g + ")", this).remove()
                                })
                            } else a("tr", c).each(function () {
                                a("th:gt(" + i + ")", this).remove()
                            });
                            a(c).width(1);
                            a(b.grid.fhDiv).append(c).mousemove(function (a) {
                                if (b.grid.resizing)return b.grid.dragMove(a),
                                    !1
                            });
                            a(b).bind("jqGridResizeStop.setFrozenColumns", function (c, d, e) {
                                c = a(".ui-jqgrid-htable", b.grid.fhDiv);
                                a("th:eq(" + e + ")", c).width(d);
                                c = a(".ui-jqgrid-btable", b.grid.fbDiv);
                                a("tr:first td:eq(" + e + ")", c).width(d)
                            });
                            a(b).bind("jqGridSortCol.setFrozenColumns", function (c, d, e) {
                                c = a("tr.ui-jqgrid-labels:last th:eq(" + b.p.lastsort + ")", b.grid.fhDiv);
                                d = a("tr.ui-jqgrid-labels:last th:eq(" + e + ")", b.grid.fhDiv);
                                a("span.ui-grid-ico-sort", c).addClass("ui-state-disabled");
                                a(c).attr("aria-selected", "false");
                                a("span.ui-icon-" +
                                    b.p.sortorder, d).removeClass("ui-state-disabled");
                                a(d).attr("aria-selected", "true");
                                !b.p.viewsortcols[0] && b.p.lastsort !== e && (a("span.s-ico", c).hide(), a("span.s-ico", d).show())
                            });
                            a("#gview_" + a.jgrid.jqID(b.p.id)).append(b.grid.fbDiv);
                            a(b.grid.bDiv).scroll(function () {
                                a(b.grid.fbDiv).scrollTop(a(this).scrollTop())
                            });
                            !0 === b.p.hoverrows && a("#" + a.jgrid.jqID(b.p.id)).unbind("mouseover").unbind("mouseout");
                            a(b).bind("jqGridAfterGridComplete.setFrozenColumns", function () {
                                a("#" + a.jgrid.jqID(b.p.id) + "_frozen").remove();
                                a(b.grid.fbDiv).height(a(b.grid.bDiv).height() - 16);
                                var c = a("#" + a.jgrid.jqID(b.p.id)).clone(!0);
                                a("tr[role=row]", c).each(function () {
                                    a("td[role=gridcell]:gt(" + i + ")", this).remove()
                                });
                                a(c).width(1).attr("id", b.p.id + "_frozen");
                                a(b.grid.fbDiv).append(c);
                                !0 === b.p.hoverrows && (a("tr.jqgrow", c).hover(function () {
                                    a(this).addClass("ui-state-hover");
                                    a("#" + a.jgrid.jqID(this.id), "#" + a.jgrid.jqID(b.p.id)).addClass("ui-state-hover")
                                }, function () {
                                    a(this).removeClass("ui-state-hover");
                                    a("#" + a.jgrid.jqID(this.id), "#" +
                                        a.jgrid.jqID(b.p.id)).removeClass("ui-state-hover")
                                }), a("tr.jqgrow", "#" + a.jgrid.jqID(b.p.id)).hover(function () {
                                    a(this).addClass("ui-state-hover");
                                    a("#" + a.jgrid.jqID(this.id), "#" + a.jgrid.jqID(b.p.id) + "_frozen").addClass("ui-state-hover")
                                }, function () {
                                    a(this).removeClass("ui-state-hover");
                                    a("#" + a.jgrid.jqID(this.id), "#" + a.jgrid.jqID(b.p.id) + "_frozen").removeClass("ui-state-hover")
                                }));
                                c = null
                            });
                            b.grid.hDiv.loading || a(b).triggerHandler("jqGridAfterGridComplete");
                            b.p.frozenColumns = !0
                        }
                    }
                }
            })
        }, destroyFrozenColumns: function () {
            return this.each(function () {
                if (this.grid &&
                    !0 === this.p.frozenColumns) {
                    a(this.grid.fhDiv).remove();
                    a(this.grid.fbDiv).remove();
                    this.grid.fhDiv = null;
                    this.grid.fbDiv = null;
                    a(this).unbind(".setFrozenColumns");
                    if (!0 === this.p.hoverrows) {
                        var b;
                        a("#" + a.jgrid.jqID(this.p.id)).bind("mouseover",function (c) {
                            b = a(c.target).closest("tr.jqgrow");
                            "ui-subgrid" !== a(b).attr("class") && a(b).addClass("ui-state-hover")
                        }).bind("mouseout", function (c) {
                            b = a(c.target).closest("tr.jqgrow");
                            a(b).removeClass("ui-state-hover")
                        })
                    }
                    this.p.frozenColumns = !1
                }
            })
        }})
})(jQuery);
(function (a) {
    a.extend(a.jgrid, {showModal: function (a) {
        a.w.show()
    }, closeModal: function (a) {
        a.w.hide().attr("aria-hidden", "true");
        a.o && a.o.remove()
    }, hideModal: function (d, b) {
        b = a.extend({jqm: !0, gb: ""}, b || {});
        if (b.onClose) {
            var c = b.gb && "string" === typeof b.gb && "#gbox_" === b.gb.substr(0, 6) ? b.onClose.call(a("#" + b.gb.substr(6))[0], d) : b.onClose(d);
            if ("boolean" === typeof c && !c)return
        }
        if (a.fn.jqm && !0 === b.jqm)a(d).attr("aria-hidden", "true").jqmHide(); else {
            if ("" !== b.gb)try {
                a(".jqgrid-overlay:first", b.gb).hide()
            } catch (g) {
            }
            a(d).hide().attr("aria-hidden",
                "true")
        }
    }, findPos: function (a) {
        var b = 0, c = 0;
        if (a.offsetParent) {
            do b += a.offsetLeft, c += a.offsetTop; while (a = a.offsetParent)
        }
        return[b, c]
    }, createModal: function (d, b, c, g, e, h, f) {
        var c = a.extend(!0, {}, a.jgrid.jqModal || {}, c), i = document.createElement("div"), j, k = this, f = a.extend({}, f || {});
        j = "rtl" === a(c.gbox).attr("dir") ? !0 : !1;
        i.className = "ui-widget ui-widget-content ui-corner-all ui-jqdialog";
        i.id = d.themodal;
        var l = document.createElement("div");
        l.className = "ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";
        l.id = d.modalhead;
        a(l).append("<span class='ui-jqdialog-title'>" + c.caption + "</span>");
        var n = a("<a class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function () {
            n.addClass("ui-state-hover")
        },function () {
            n.removeClass("ui-state-hover")
        }).append("<span class='ui-icon ui-icon-closethick'></span>");
        a(l).append(n);
        j ? (i.dir = "rtl", a(".ui-jqdialog-title", l).css("float", "right"), a(".ui-jqdialog-titlebar-close", l).css("left", "0.3em")) : (i.dir = "ltr", a(".ui-jqdialog-title", l).css("float", "left"), a(".ui-jqdialog-titlebar-close",
            l).css("right", "0.3em"));
        var m = document.createElement("div");
        a(m).addClass("ui-jqdialog-content ui-widget-content").attr("id", d.modalcontent);
        a(m).append(b);
        i.appendChild(m);
        a(i).prepend(l);
        !0 === h ? a("body").append(i) : "string" === typeof h ? a(h).append(i) : a(i).insertBefore(g);
        a(i).css(f);
        void 0 === c.jqModal && (c.jqModal = !0);
        b = {};
        if (a.fn.jqm && !0 === c.jqModal)0 === c.left && 0 === c.top && c.overlay && (f = [], f = a.jgrid.findPos(e), c.left = f[0] + 4, c.top = f[1] + 4), b.top = c.top + "px", b.left = c.left; else if (0 !== c.left || 0 !== c.top)b.left =
            c.left, b.top = c.top + "px";
        a("a.ui-jqdialog-titlebar-close", l).click(function () {
            var b = a("#" + a.jgrid.jqID(d.themodal)).data("onClose") || c.onClose, e = a("#" + a.jgrid.jqID(d.themodal)).data("gbox") || c.gbox;
            k.hideModal("#" + a.jgrid.jqID(d.themodal), {gb: e, jqm: c.jqModal, onClose: b});
            return false
        });
        if (0 === c.width || !c.width)c.width = 300;
        if (0 === c.height || !c.height)c.height = 200;
        c.zIndex || (g = a(g).parents("*[role=dialog]").filter(":first").css("z-index"), c.zIndex = g ? parseInt(g, 10) + 2 : 950);
        g = 0;
        j && b.left && !h && (g = a(c.gbox).width() -
            (!isNaN(c.width) ? parseInt(c.width, 10) : 0) - 8, b.left = parseInt(b.left, 10) + parseInt(g, 10));
        b.left && (b.left += "px");
        a(i).css(a.extend({width: isNaN(c.width) ? "auto" : c.width + "px", height: isNaN(c.height) ? "auto" : c.height + "px", zIndex: c.zIndex, overflow: "hidden"}, b)).attr({tabIndex: "-1", role: "dialog", "aria-labelledby": d.modalhead, "aria-hidden": "true"});
        void 0 === c.drag && (c.drag = !0);
        void 0 === c.resize && (c.resize = !0);
        if (c.drag)if (a(l).css("cursor", "move"), a.fn.jqDrag)a(i).jqDrag(l); else try {
            a(i).draggable({handle: a("#" +
                a.jgrid.jqID(l.id))})
        } catch (o) {
        }
        if (c.resize)if (a.fn.jqResize)a(i).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"), a("#" + a.jgrid.jqID(d.themodal)).jqResize(".jqResize", d.scrollelm ? "#" + a.jgrid.jqID(d.scrollelm) : !1); else try {
            a(i).resizable({handles: "se, sw", alsoResize: d.scrollelm ? "#" + a.jgrid.jqID(d.scrollelm) : !1})
        } catch (p) {
        }
        !0 === c.closeOnEscape && a(i).keydown(function (b) {
            if (b.which == 27) {
                b = a("#" + a.jgrid.jqID(d.themodal)).data("onClose") ||
                    c.onClose;
                k.hideModal("#" + a.jgrid.jqID(d.themodal), {gb: c.gbox, jqm: c.jqModal, onClose: b})
            }
        })
    }, viewModal: function (d, b) {
        b = a.extend({toTop: !0, overlay: 10, modal: !1, overlayClass: "ui-widget-overlay", onShow: a.jgrid.showModal, onHide: a.jgrid.closeModal, gbox: "", jqm: !0, jqM: !0}, b || {});
        if (a.fn.jqm && !0 === b.jqm)b.jqM ? a(d).attr("aria-hidden", "false").jqm(b).jqmShow() : a(d).attr("aria-hidden", "false").jqmShow(); else {
            "" !== b.gbox && (a(".jqgrid-overlay:first", b.gbox).show(), a(d).data("gbox", b.gbox));
            a(d).show().attr("aria-hidden",
                "false");
            try {
                a(":input:visible", d)[0].focus()
            } catch (c) {
            }
        }
    }, info_dialog: function (d, b, c, g) {
        var e = {width: 290, height: "auto", dataheight: "auto", drag: !0, resize: !1, left: 250, top: 170, zIndex: 1E3, jqModal: !0, modal: !1, closeOnEscape: !0, align: "center", buttonalign: "center", buttons: []};
        a.extend(!0, e, a.jgrid.jqModal || {}, {caption: "<b>" + d + "</b>"}, g || {});
        var h = e.jqModal, f = this;
        a.fn.jqm && !h && (h = !1);
        d = "";
        if (0 < e.buttons.length)for (g = 0; g < e.buttons.length; g++)void 0 === e.buttons[g].id && (e.buttons[g].id = "info_button_" + g), d +=
            "<a id='" + e.buttons[g].id + "' class='fm-button ui-state-default ui-corner-all'>" + e.buttons[g].text + "</a>";
        g = isNaN(e.dataheight) ? e.dataheight : e.dataheight + "px";
        b = "<div id='info_id'>" + ("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:" + g + ";" + ("text-align:" + e.align + ";") + "'>" + b + "</div>");
        b += c ? "<div class='ui-widget-content ui-helper-clearfix' style='text-align:" + e.buttonalign + ";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button ui-state-default ui-corner-all'>" +
            c + "</a>" + d + "</div>" : "" !== d ? "<div class='ui-widget-content ui-helper-clearfix' style='text-align:" + e.buttonalign + ";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>" + d + "</div>" : "";
        b += "</div>";
        try {
            "false" === a("#info_dialog").attr("aria-hidden") && a.jgrid.hideModal("#info_dialog", {jqm: h}), a("#info_dialog").remove()
        } catch (i) {
        }
        a.jgrid.createModal({themodal: "info_dialog", modalhead: "info_head", modalcontent: "info_content", scrollelm: "infocnt"}, b, e, "", "", !0);
        d && a.each(e.buttons,
            function (b) {
                a("#" + a.jgrid.jqID(this.id), "#info_id").bind("click", function () {
                    e.buttons[b].onClick.call(a("#info_dialog"));
                    return!1
                })
            });
        a("#closedialog", "#info_id").click(function () {
            f.hideModal("#info_dialog", {jqm: h, onClose: a("#info_dialog").data("onClose") || e.onClose, gb: a("#info_dialog").data("gbox") || e.gbox});
            return!1
        });
        a(".fm-button", "#info_dialog").hover(function () {
            a(this).addClass("ui-state-hover")
        }, function () {
            a(this).removeClass("ui-state-hover")
        });
        a.isFunction(e.beforeOpen) && e.beforeOpen();
        a.jgrid.viewModal("#info_dialog",
            {onHide: function (a) {
                a.w.hide().remove();
                a.o && a.o.remove()
            }, modal: e.modal, jqm: h});
        a.isFunction(e.afterOpen) && e.afterOpen();
        try {
            a("#info_dialog").focus()
        } catch (j) {
        }
    }, bindEv: function (d, b) {
        a.isFunction(b.dataInit) && b.dataInit.call(this, d, b);
        b.dataEvents && a.each(b.dataEvents, function () {
            void 0 !== this.data ? a(d).bind(this.type, this.data, this.fn) : a(d).bind(this.type, this.fn)
        })
    }, createEl: function (d, b, c, g, e) {
        function h(b, d, c) {
            var e = "dataInit,dataEvents,dataUrl,buildSelect,sopt,searchhidden,defaultValue,attr,custom_element,custom_value".split(",");
            void 0 !== c && a.isArray(c) && a.merge(e, c);
            a.each(d, function (d, c) {
                -1 === a.inArray(d, e) && a(b).attr(d, c)
            });
            d.hasOwnProperty("id") || a(b).attr("id", a.jgrid.randId())
        }

        var f = "", i = this;
        switch (d) {
            case "textarea":
                f = document.createElement("textarea");
                g ? b.cols || a(f).css({width: "98%"}) : b.cols || (b.cols = 20);
                b.rows || (b.rows = 2);
                if ("&nbsp;" === c || "&#160;" === c || 1 === c.length && 160 === c.charCodeAt(0))c = "";
                f.value = c;
                h(f, b);
                a(f).attr({role: "textbox", multiline: "true"});
                break;
            case "checkbox":
                f = document.createElement("input");
                f.type =
                    "checkbox";
                b.value ? (d = b.value.split(":"), c === d[0] && (f.checked = !0, f.defaultChecked = !0), f.value = d[0], a(f).attr("offval", d[1])) : (d = (c + "").toLowerCase(), 0 > d.search(/(false|f|0|no|n|off|undefined)/i) && "" !== d ? (f.checked = !0, f.defaultChecked = !0, f.value = c) : f.value = "on", a(f).attr("offval", "off"));
                h(f, b, ["value"]);
                a(f).attr("role", "checkbox");
                break;
            case "select":
                f = document.createElement("select");
                f.setAttribute("role", "select");
                g = [];
                !0 === b.multiple ? (d = !0, f.multiple = "multiple", a(f).attr("aria-multiselectable",
                    "true")) : d = !1;
                if (void 0 !== b.dataUrl) {
                    var d = b.name ? ("" + b.id).substring(0, ("" + b.id).length - ("" + b.name).length - 1) : "" + b.id, j = b.postData || e.postData;
                    i.p && i.p.idPrefix && (d = a.jgrid.stripPref(i.p.idPrefix, d));
                    a.ajax(a.extend({url: a.isFunction(b.dataUrl) ? b.dataUrl.call(i, d, c, "" + b.name) : b.dataUrl, type: "GET", dataType: "html", data: a.isFunction(j) ? j.call(i, d, c, "" + b.name) : j, context: {elem: f, options: b, vl: c}, success: function (b) {
                        var d = [], c = this.elem, e = this.vl, f = a.extend({}, this.options), g = f.multiple === true, b = a.isFunction(f.buildSelect) ?
                            f.buildSelect.call(i, b) : b;
                        typeof b === "string" && (b = a(a.trim(b)).html());
                        if (b) {
                            a(c).append(b);
                            h(c, f, j ? ["postData"] : void 0);
                            if (f.size === void 0)f.size = g ? 3 : 1;
                            if (g) {
                                d = e.split(",");
                                d = a.map(d, function (b) {
                                    return a.trim(b)
                                })
                            } else d[0] = a.trim(e);
                            setTimeout(function () {
                                a("option", c).each(function (b) {
                                    if (b === 0 && c.multiple)this.selected = false;
                                    a(this).attr("role", "option");
                                    if (a.inArray(a.trim(a(this).text()), d) > -1 || a.inArray(a.trim(a(this).val()), d) > -1)this.selected = "selected"
                                })
                            }, 0)
                        }
                    }}, e || {}))
                } else if (b.value) {
                    var k;
                    void 0 === b.size && (b.size = d ? 3 : 1);
                    d && (g = c.split(","), g = a.map(g, function (b) {
                        return a.trim(b)
                    }));
                    "function" === typeof b.value && (b.value = b.value());
                    var l, n, m = void 0 === b.separator ? ":" : b.separator, e = void 0 === b.delimiter ? ";" : b.delimiter;
                    if ("string" === typeof b.value) {
                        l = b.value.split(e);
                        for (k = 0; k < l.length; k++) {
                            n = l[k].split(m);
                            2 < n.length && (n[1] = a.map(n,function (a, b) {
                                if (b > 0)return a
                            }).join(m));
                            e = document.createElement("option");
                            e.setAttribute("role", "option");
                            e.value = n[0];
                            e.innerHTML = n[1];
                            f.appendChild(e);
                            if (!d &&
                                (a.trim(n[0]) === a.trim(c) || a.trim(n[1]) === a.trim(c)))e.selected = "selected";
                            if (d && (-1 < a.inArray(a.trim(n[1]), g) || -1 < a.inArray(a.trim(n[0]), g)))e.selected = "selected"
                        }
                    } else if ("object" === typeof b.value)for (k in m = b.value, m)if (m.hasOwnProperty(k)) {
                        e = document.createElement("option");
                        e.setAttribute("role", "option");
                        e.value = k;
                        e.innerHTML = m[k];
                        f.appendChild(e);
                        if (!d && (a.trim(k) === a.trim(c) || a.trim(m[k]) === a.trim(c)))e.selected = "selected";
                        if (d && (-1 < a.inArray(a.trim(m[k]), g) || -1 < a.inArray(a.trim(k), g)))e.selected =
                            "selected"
                    }
                    h(f, b, ["value"])
                }
                break;
            case "text":
            case "password":
            case "button":
                k = "button" === d ? "button" : "textbox";
                f = document.createElement("input");
                f.type = d;
                f.value = c;
                h(f, b);
                "button" !== d && (g ? b.size || a(f).css({width: "98%"}) : b.size || (b.size = 20));
                a(f).attr("role", k);
                break;
            case "image":
            case "file":
                f = document.createElement("input");
                f.type = d;
                h(f, b);
                break;
            case "custom":
                f = document.createElement("span");
                try {
                    if (a.isFunction(b.custom_element))if (m = b.custom_element.call(i, c, b))m = a(m).addClass("customelement").attr({id: b.id,
                        name: b.name}), a(f).empty().append(m); else throw"e2"; else throw"e1";
                } catch (o) {
                    "e1" === o && a.jgrid.info_dialog(a.jgrid.errors.errcap, "function 'custom_element' " + a.jgrid.edit.msg.nodefined, a.jgrid.edit.bClose), "e2" === o ? a.jgrid.info_dialog(a.jgrid.errors.errcap, "function 'custom_element' " + a.jgrid.edit.msg.novalue, a.jgrid.edit.bClose) : a.jgrid.info_dialog(a.jgrid.errors.errcap, "string" === typeof o ? o : o.message, a.jgrid.edit.bClose)
                }
        }
        return f
    }, checkDate: function (a, b) {
        var c = {}, g, a = a.toLowerCase();
        g = -1 !== a.indexOf("/") ?
            "/" : -1 !== a.indexOf("-") ? "-" : -1 !== a.indexOf(".") ? "." : "/";
        a = a.split(g);
        b = b.split(g);
        if (3 !== b.length)return!1;
        g = -1;
        var e, h = -1, f = -1, i;
        for (i = 0; i < a.length; i++)e = isNaN(b[i]) ? 0 : parseInt(b[i], 10), c[a[i]] = e, e = a[i], -1 !== e.indexOf("y") && (g = i), -1 !== e.indexOf("m") && (f = i), -1 !== e.indexOf("d") && (h = i);
        e = "y" === a[g] || "yyyy" === a[g] ? 4 : "yy" === a[g] ? 2 : -1;
        i = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        var j;
        if (-1 === g)return!1;
        j = c[a[g]].toString();
        2 === e && 1 === j.length && (e = 1);
        if (j.length !== e || 0 === c[a[g]] && "00" !== b[g] || -1 === f)return!1;
        j = c[a[f]].toString();
        if (1 > j.length || 1 > c[a[f]] || 12 < c[a[f]] || -1 === h)return!1;
        j = c[a[h]].toString();
        return 1 > j.length || 1 > c[a[h]] || 31 < c[a[h]] || 2 === c[a[f]] && c[a[h]] > (0 === c[a[g]] % 4 && (0 !== c[a[g]] % 100 || 0 === c[a[g]] % 400) ? 29 : 28) || c[a[h]] > i[c[a[f]]] ? !1 : !0
    }, isEmpty: function (a) {
        return a.match(/^\s+$/) || "" === a ? !0 : !1
    }, checkTime: function (d) {
        var b = /^(\d{1,2}):(\d{2})([apAP][Mm])?$/;
        if (!a.jgrid.isEmpty(d))if (d = d.match(b)) {
            if (d[3]) {
                if (1 > d[1] || 12 < d[1])return!1
            } else if (23 < d[1])return!1;
            if (59 < d[2])return!1
        } else return!1;
        return!0
    }, checkValues: function (d, b, c, g) {
        var e, h, f;
        f = this.p.colModel;
        if (void 0 === c)if ("string" === typeof b) {
            c = 0;
            for (g = f.length; c < g; c++)if (f[c].name === b) {
                e = f[c].editrules;
                b = c;
                null != f[c].formoptions && (h = f[c].formoptions.label);
                break
            }
        } else 0 <= b && (e = f[b].editrules); else e = c, h = void 0 === g ? "_" : g;
        if (e) {
            h || (h = null != this.p.colNames ? this.p.colNames[b] : f[b].label);
            if (!0 === e.required && a.jgrid.isEmpty(d))return[!1, h + ": " + a.jgrid.edit.msg.required, ""];
            c = !1 === e.required ? !1 : !0;
            if (!0 === e.number && !(!1 === c && a.jgrid.isEmpty(d)) &&
                isNaN(d))return[!1, h + ": " + a.jgrid.edit.msg.number, ""];
            if (void 0 !== e.minValue && !isNaN(e.minValue) && parseFloat(d) < parseFloat(e.minValue))return[!1, h + ": " + a.jgrid.edit.msg.minValue + " " + e.minValue, ""];
            if (void 0 !== e.maxValue && !isNaN(e.maxValue) && parseFloat(d) > parseFloat(e.maxValue))return[!1, h + ": " + a.jgrid.edit.msg.maxValue + " " + e.maxValue, ""];
            if (!0 === e.email && !(!1 === c && a.jgrid.isEmpty(d)) && (g = /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,
                !g.test(d)))return[!1, h + ": " + a.jgrid.edit.msg.email, ""];
            if (!0 === e.integer && !(!1 === c && a.jgrid.isEmpty(d)) && (isNaN(d) || 0 !== d % 1 || -1 !== d.indexOf(".")))return[!1, h + ": " + a.jgrid.edit.msg.integer, ""];
            if (!0 === e.date && !(!1 === c && a.jgrid.isEmpty(d)) && (f[b].formatoptions && f[b].formatoptions.newformat ? (f = f[b].formatoptions.newformat, a.jgrid.formatter.date.masks.hasOwnProperty(f) && (f = a.jgrid.formatter.date.masks[f])) : f = f[b].datefmt || "Y-m-d", !a.jgrid.checkDate(f, d)))return[!1, h + ": " + a.jgrid.edit.msg.date + " - " +
                f, ""];
            if (!0 === e.time && !(!1 === c && a.jgrid.isEmpty(d)) && !a.jgrid.checkTime(d))return[!1, h + ": " + a.jgrid.edit.msg.date + " - hh:mm (am/pm)", ""];
            if (!0 === e.url && !(!1 === c && a.jgrid.isEmpty(d)) && (g = /^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i, !g.test(d)))return[!1, h + ": " + a.jgrid.edit.msg.url, ""];
            if (!0 === e.custom && !(!1 === c && a.jgrid.isEmpty(d)))return a.isFunction(e.custom_func) ? (d = e.custom_func.call(this, d, h, b), a.isArray(d) ? d : [!1, a.jgrid.edit.msg.customarray,
                ""]) : [!1, a.jgrid.edit.msg.customfcheck, ""]
        }
        return[!0, "", ""]
    }})
})(jQuery);
(function (b) {
    b.jgrid.msie && 8 === b.jgrid.msiever() && (b.expr[":"].hidden = function (b) {
        return 0 === b.offsetWidth || 0 === b.offsetHeight || "none" === b.style.display
    });
    b.jgrid._multiselect = !1;
    if (b.ui && b.ui.multiselect) {
        if (b.ui.multiselect.prototype._setSelected) {
            var o = b.ui.multiselect.prototype._setSelected;
            b.ui.multiselect.prototype._setSelected = function (a, d) {
                var c = o.call(this, a, d);
                if (d && this.selectedList) {
                    var e = this.element;
                    this.selectedList.find("li").each(function () {
                        b(this).data("optionLink") && b(this).data("optionLink").remove().appendTo(e)
                    })
                }
                return c
            }
        }
        b.ui.multiselect.prototype.destroy &&
        (b.ui.multiselect.prototype.destroy = function () {
            this.element.show();
            this.container.remove();
            b.Widget === void 0 ? b.widget.prototype.destroy.apply(this, arguments) : b.Widget.prototype.destroy.apply(this, arguments)
        });
        b.jgrid._multiselect = !0
    }
    b.jgrid.extend({sortableColumns: function (a) {
        return this.each(function () {
            function d() {
                c.p.disableClick = true
            }

            var c = this, e = b.jgrid.jqID(c.p.id), e = {tolerance: "pointer", axis: "x", scrollSensitivity: "1", items: ">th:not(:has(#jqgh_" + e + "_cb,#jqgh_" + e + "_rn,#jqgh_" + e + "_subgrid),:hidden)",
                placeholder: {element: function (a) {
                    return b(document.createElement(a[0].nodeName)).addClass(a[0].className + " ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]
                }, update: function (b, a) {
                    a.height(b.currentItem.innerHeight() - parseInt(b.currentItem.css("paddingTop") || 0, 10) - parseInt(b.currentItem.css("paddingBottom") || 0, 10));
                    a.width(b.currentItem.innerWidth() - parseInt(b.currentItem.css("paddingLeft") || 0, 10) - parseInt(b.currentItem.css("paddingRight") || 0, 10))
                }}, update: function (a, e) {
                    var d = b(e.item).parent(), d = b(">th", d), f = {}, g = c.p.id + "_";
                    b.each(c.p.colModel, function (b) {
                        f[this.name] = b
                    });
                    var j = [];
                    d.each(function () {
                        var a = b(">div", this).get(0).id.replace(/^jqgh_/, "").replace(g, "");
                        f.hasOwnProperty(a) && j.push(f[a])
                    });
                    b(c).jqGrid("remapColumns", j, true, true);
                    b.isFunction(c.p.sortable.update) && c.p.sortable.update(j);
                    setTimeout(function () {
                        c.p.disableClick = false
                    }, 50)
                }};
            if (c.p.sortable.options)b.extend(e, c.p.sortable.options); else if (b.isFunction(c.p.sortable))c.p.sortable = {update: c.p.sortable};
            if (e.start) {
                var g = e.start;
                e.start = function (b, a) {
                    d();
                    g.call(this, b, a)
                }
            } else e.start = d;
            if (c.p.sortable.exclude)e.items = e.items + (":not(" + c.p.sortable.exclude + ")");
            a.sortable(e).data("sortable").floating = true
        })
    }, columnChooser: function (a) {
        function d(a, c) {
            a && (typeof a === "string" ? b.fn[a] && b.fn[a].apply(c, b.makeArray(arguments).slice(2)) : b.isFunction(a) && a.apply(c, b.makeArray(arguments).slice(2)))
        }

        var c = this;
        if (!b("#colchooser_" + b.jgrid.jqID(c[0].p.id)).length) {
            var e = b('<div id="colchooser_' + c[0].p.id + '" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),
                g = b("select", e), a = b.extend({width: 420, height: 240, classname: null, done: function (b) {
                    b && c.jqGrid("remapColumns", b, true)
                }, msel: "multiselect", dlog: "dialog", dialog_opts: {minWidth: 470}, dlog_opts: function (a) {
                    var c = {};
                    c[a.bSubmit] = function () {
                        a.apply_perm();
                        a.cleanup(false)
                    };
                    c[a.bCancel] = function () {
                        a.cleanup(true)
                    };
                    return b.extend(true, {buttons: c, close: function () {
                        a.cleanup(true)
                    }, modal: a.modal || false, resizable: a.resizable || true, width: a.width + 20}, a.dialog_opts || {})
                }, apply_perm: function () {
                    b("option", g).each(function () {
                        this.selected ?
                            c.jqGrid("showCol", i[this.value].name) : c.jqGrid("hideCol", i[this.value].name)
                    });
                    var e = [];
                    b("option:selected", g).each(function () {
                        e.push(parseInt(this.value, 10))
                    });
                    b.each(e, function () {
                        delete m[i[parseInt(this, 10)].name]
                    });
                    b.each(m, function () {
                        var b = parseInt(this, 10);
                        var a = e, c = b;
                        if (c >= 0) {
                            var d = a.slice(), i = d.splice(c, Math.max(a.length - c, c));
                            if (c > a.length)c = a.length;
                            d[c] = b;
                            e = d.concat(i)
                        } else e = void 0
                    });
                    a.done && a.done.call(c, e)
                }, cleanup: function (b) {
                    d(a.dlog, e, "destroy");
                    d(a.msel, g, "destroy");
                    e.remove();
                    b && a.done && a.done.call(c)
                }, msel_opts: {}}, b.jgrid.col, a || {});
            if (b.ui && b.ui.multiselect && a.msel === "multiselect") {
                if (!b.jgrid._multiselect) {
                    alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");
                    return
                }
                a.msel_opts = b.extend(b.ui.multiselect.defaults, a.msel_opts)
            }
            a.caption && e.attr("title", a.caption);
            if (a.classname) {
                e.addClass(a.classname);
                g.addClass(a.classname)
            }
            if (a.width) {
                b(">div", e).css({width: a.width, margin: "0 auto"});
                g.css("width", a.width)
            }
            if (a.height) {
                b(">div",
                    e).css("height", a.height);
                g.css("height", a.height - 10)
            }
            var i = c.jqGrid("getGridParam", "colModel"), q = c.jqGrid("getGridParam", "colNames"), m = {}, f = [];
            g.empty();
            b.each(i, function (a) {
                m[this.name] = a;
                this.hidedlg ? this.hidden || f.push(a) : g.append("<option value='" + a + "' " + (this.hidden ? "" : "selected='selected'") + ">" + b.jgrid.stripHtml(q[a]) + "</option>")
            });
            var n = b.isFunction(a.dlog_opts) ? a.dlog_opts.call(c, a) : a.dlog_opts;
            d(a.dlog, e, n);
            n = b.isFunction(a.msel_opts) ? a.msel_opts.call(c, a) : a.msel_opts;
            d(a.msel, g, n)
        }
    }, sortableRows: function (a) {
        return this.each(function () {
            var d =
                this;
            if (d.grid && !d.p.treeGrid && b.fn.sortable) {
                a = b.extend({cursor: "move", axis: "y", items: ".jqgrow"}, a || {});
                if (a.start && b.isFunction(a.start)) {
                    a._start_ = a.start;
                    delete a.start
                } else a._start_ = false;
                if (a.update && b.isFunction(a.update)) {
                    a._update_ = a.update;
                    delete a.update
                } else a._update_ = false;
                a.start = function (c, e) {
                    b(e.item).css("border-width", "0px");
                    b("td", e.item).each(function (b) {
                        this.style.width = d.grid.cols[b].style.width
                    });
                    if (d.p.subGrid) {
                        var g = b(e.item).attr("id");
                        try {
                            b(d).jqGrid("collapseSubGridRow",
                                g)
                        } catch (i) {
                        }
                    }
                    a._start_ && a._start_.apply(this, [c, e])
                };
                a.update = function (c, e) {
                    b(e.item).css("border-width", "");
                    d.p.rownumbers === true && b("td.jqgrid-rownum", d.rows).each(function (a) {
                        b(this).html(a + 1 + (parseInt(d.p.page, 10) - 1) * parseInt(d.p.rowNum, 10))
                    });
                    a._update_ && a._update_.apply(this, [c, e])
                };
                b("tbody:first", d).sortable(a);
                b("tbody:first", d).disableSelection()
            }
        })
    }, gridDnD: function (a) {
        return this.each(function () {
            function d() {
                var a = b.data(c, "dnd");
                b("tr.jqgrow:not(.ui-draggable)", c).draggable(b.isFunction(a.drag) ?
                    a.drag.call(b(c), a) : a.drag)
            }

            var c = this, e, g;
            if (c.grid && !c.p.treeGrid && b.fn.draggable && b.fn.droppable) {
                b("#jqgrid_dnd")[0] === void 0 && b("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>");
                if (typeof a === "string" && a === "updateDnD" && c.p.jqgdnd === true)d(); else {
                    a = b.extend({drag: function (a) {
                        return b.extend({start: function (e, d) {
                            var f;
                            if (c.p.subGrid) {
                                f = b(d.helper).attr("id");
                                try {
                                    b(c).jqGrid("collapseSubGridRow", f)
                                } catch (g) {
                                }
                            }
                            for (f = 0; f < b.data(c, "dnd").connectWith.length; f++)b(b.data(c, "dnd").connectWith[f]).jqGrid("getGridParam",
                                "reccount") === 0 && b(b.data(c, "dnd").connectWith[f]).jqGrid("addRowData", "jqg_empty_row", {});
                            d.helper.addClass("ui-state-highlight");
                            b("td", d.helper).each(function (b) {
                                this.style.width = c.grid.headers[b].width + "px"
                            });
                            a.onstart && b.isFunction(a.onstart) && a.onstart.call(b(c), e, d)
                        }, stop: function (e, d) {
                            var f;
                            if (d.helper.dropped && !a.dragcopy) {
                                f = b(d.helper).attr("id");
                                f === void 0 && (f = b(this).attr("id"));
                                b(c).jqGrid("delRowData", f)
                            }
                            for (f = 0; f < b.data(c, "dnd").connectWith.length; f++)b(b.data(c, "dnd").connectWith[f]).jqGrid("delRowData",
                                "jqg_empty_row");
                            a.onstop && b.isFunction(a.onstop) && a.onstop.call(b(c), e, d)
                        }}, a.drag_opts || {})
                    }, drop: function (a) {
                        return b.extend({accept: function (a) {
                            if (!b(a).hasClass("jqgrow"))return a;
                            a = b(a).closest("table.ui-jqgrid-btable");
                            if (a.length > 0 && b.data(a[0], "dnd") !== void 0) {
                                a = b.data(a[0], "dnd").connectWith;
                                return b.inArray("#" + b.jgrid.jqID(this.id), a) !== -1 ? true : false
                            }
                            return false
                        }, drop: function (e, d) {
                            if (b(d.draggable).hasClass("jqgrow")) {
                                var f = b(d.draggable).attr("id"), f = d.draggable.parent().parent().jqGrid("getRowData",
                                    f);
                                if (!a.dropbyname) {
                                    var g = 0, j = {}, h, l, p = b("#" + b.jgrid.jqID(this.id)).jqGrid("getGridParam", "colModel");
                                    try {
                                        for (l in f)if (f.hasOwnProperty(l)) {
                                            h = p[g].name;
                                            h === "cb" || h === "rn" || h === "subgrid" || f.hasOwnProperty(l) && p[g] && (j[h] = f[l]);
                                            g++
                                        }
                                        f = j
                                    } catch (o) {
                                    }
                                }
                                d.helper.dropped = true;
                                if (a.beforedrop && b.isFunction(a.beforedrop)) {
                                    h = a.beforedrop.call(this, e, d, f, b("#" + b.jgrid.jqID(c.p.id)), b(this));
                                    h !== void 0 && h !== null && typeof h === "object" && (f = h)
                                }
                                if (d.helper.dropped) {
                                    var k;
                                    if (a.autoid)if (b.isFunction(a.autoid))k = a.autoid.call(this,
                                        f); else {
                                        k = Math.ceil(Math.random() * 1E3);
                                        k = a.autoidprefix + k
                                    }
                                    b("#" + b.jgrid.jqID(this.id)).jqGrid("addRowData", k, f, a.droppos)
                                }
                                a.ondrop && b.isFunction(a.ondrop) && a.ondrop.call(this, e, d, f)
                            }
                        }}, a.drop_opts || {})
                    }, onstart: null, onstop: null, beforedrop: null, ondrop: null, drop_opts: {activeClass: "ui-state-active", hoverClass: "ui-state-hover"}, drag_opts: {revert: "invalid", helper: "clone", cursor: "move", appendTo: "#jqgrid_dnd", zIndex: 5E3}, dragcopy: false, dropbyname: false, droppos: "first", autoid: true, autoidprefix: "dnd_"}, a ||
                    {});
                    if (a.connectWith) {
                        a.connectWith = a.connectWith.split(",");
                        a.connectWith = b.map(a.connectWith, function (a) {
                            return b.trim(a)
                        });
                        b.data(c, "dnd", a);
                        c.p.reccount !== 0 && !c.p.jqgdnd && d();
                        c.p.jqgdnd = true;
                        for (e = 0; e < a.connectWith.length; e++) {
                            g = a.connectWith[e];
                            b(g).droppable(b.isFunction(a.drop) ? a.drop.call(b(c), a) : a.drop)
                        }
                    }
                }
            }
        })
    }, gridResize: function (a) {
        return this.each(function () {
            var d = this, c = b.jgrid.jqID(d.p.id);
            if (d.grid && b.fn.resizable) {
                a = b.extend({}, a || {});
                if (a.alsoResize) {
                    a._alsoResize_ = a.alsoResize;
                    delete a.alsoResize
                } else a._alsoResize_ =
                    false;
                if (a.stop && b.isFunction(a.stop)) {
                    a._stop_ = a.stop;
                    delete a.stop
                } else a._stop_ = false;
                a.stop = function (e, g) {
                    b(d).jqGrid("setGridParam", {height: b("#gview_" + c + " .ui-jqgrid-bdiv").height()});
                    b(d).jqGrid("setGridWidth", g.size.width, a.shrinkToFit);
                    a._stop_ && a._stop_.call(d, e, g)
                };
                a.alsoResize = a._alsoResize_ ? eval("(" + ("{'#gview_" + c + " .ui-jqgrid-bdiv':true,'" + a._alsoResize_ + "':true}") + ")") : b(".ui-jqgrid-bdiv", "#gview_" + c);
                delete a._alsoResize_;
                b("#gbox_" + c).resizable(a)
            }
        })
    }})
})(jQuery);
